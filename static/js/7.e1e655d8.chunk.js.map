{"version":3,"sources":["components/AddRestaurantForm.js"],"names":["initialState","name","cover","location","lat","lng","phoneNumber","website","address","gmap","isOpen","rating","ratings","reviews","types","AddRestaurantForm","handleSubmit","handleCancel","React","useReducer","state","action","type","payload","dispatch","useEffect","handleEscape","useCallback","e","key","window","addEventListener","removeEventListener","className","onSubmit","persist","data","id","uniqid","alt","src","icon","color","size","accept","placeholder","onChange","getDataURI","target","files","then","result","catch","noop","required","value","onKeyDown","onClick"],"mappings":"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","file":"static/js/7.e1e655d8.chunk.js","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\nimport { getDataURI, uniqid, noop } from '../helpers';\n\nconst initialState = {\n  name: '',\n  cover: '',\n  location: { lat: '', lng: '' },\n  phoneNumber: '',\n  website: '',\n  address: '',\n  // static values\n  gmap: null,\n  isOpen: () => true,\n  rating: 0,\n  ratings: 0,\n  reviews: [],\n  types: ['restaurant'],\n};\n\nfunction AddRestaurantForm({ location, handleSubmit, handleCancel }) {\n  const [state, dispatch] = React.useReducer((state, action) => {\n    switch (action.type) {\n      case 'RESET': {\n        return initialState;\n      }\n      case 'SET_COVER': {\n        return { ...state, cover: action.payload };\n      }\n      case 'SET_NAME': {\n        return { ...state, name: action.payload };\n      }\n      case 'SET_PHONE_NUMBER': {\n        return { ...state, phoneNumber: action.payload };\n      }\n      case 'SET_WEBSITE': {\n        return { ...state, website: action.payload };\n      }\n      case 'SET_ADDRESS': {\n        return { ...state, address: action.payload };\n      }\n      case 'SET_LOCATION': {\n        return { ...state, location: action.payload };\n      }\n      case 'SET_LOCATION_LATITUDE': {\n        return { ...state, location: { ...state.location, lat: action.payload } };\n      }\n      case 'SET_LOCATION_LONGITUDE': {\n        return { ...state, location: { ...state.location, lng: action.payload } };\n      }\n      default: {\n        return state;\n      }\n    }\n  }, initialState);\n\n  React.useEffect(() => {\n    dispatch({ type: 'SET_LOCATION', payload: location });\n  }, [location]);\n\n  const handleEscape = React.useCallback(e => e.key === 'Escape' && handleCancel(e), [\n    handleCancel,\n  ]);\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEscape);\n\n    return () => {\n      window.removeEventListener('keydown', handleEscape);\n    };\n  }, [handleEscape]);\n\n  return (\n    <div className=\"bg-white rounded-lg overflow-hidden\">\n      <form\n        onSubmit={e => {\n          e.persist();\n\n          const data = { ...state, id: uniqid() };\n\n          handleSubmit(e, data);\n        }}\n      >\n        <div className=\"relative bg-indigo-400 h-64\">\n          <label className=\"absolute inset-0\">\n            {state.cover ? (\n              <img className=\"w-full h-full object-fit\" alt={state.name} src={state.cover} />\n            ) : (\n              <div className=\"flex flex-col items-center justify-center relative w-full h-full\">\n                <Icon icon=\"image\" color=\"#fff\" size=\"8x\" />\n                <div className=\"inline-block px-4 py-1 text-xs font-semibold text-indigo-800 bg-indigo-200 rounded-lg\">\n                  Add a preview image\n                </div>\n                <input\n                  className=\"absolute inset-0 opacity-0 cursor-pointer z-10\"\n                  type=\"file\"\n                  name=\"cover\"\n                  accept=\"image/png, image/jpeg\"\n                  placeholder=\"Cover\"\n                  onChange={e => {\n                    getDataURI(e.target.files[0])\n                      .then(result => dispatch({ type: 'SET_COVER', payload: result }))\n                      .catch(noop);\n                  }}\n                  required\n                />\n              </div>\n            )}\n          </label>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Name</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"What is the name of the restaurant?\"\n              value={state.name}\n              onChange={e => {\n                dispatch({ type: 'SET_NAME', payload: e.target.value });\n              }}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Location</div>\n          <div className=\"flex mt-1\">\n            <div className=\"w-6/12\">\n              <input\n                className=\"w-full py-1\"\n                type=\"text\"\n                placeholder=\"Latitude\"\n                value={state.location.lat}\n                onChange={e => {\n                  dispatch({ type: 'SET_LOCATION_LATITUDE', payload: e.target.value });\n                }}\n                required\n              />\n            </div>\n            <div className=\"w-6/12\">\n              <input\n                className=\"w-full py-1\"\n                type=\"text\"\n                placeholder=\"Longitude\"\n                value={state.location.lng}\n                onChange={e => {\n                  dispatch({ type: 'SET_LOCATION_LONGITUDE', payload: e.target.value });\n                }}\n                required\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Phone Number</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Phone Number\"\n              value={state.phoneNumber}\n              onChange={e => {\n                dispatch({ type: 'SET_PHONE_NUMBER', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Website</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Website\"\n              value={state.website}\n              onChange={e => {\n                dispatch({ type: 'SET_WEBSITE', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2\">\n          <div className=\"text-xs leading-none\">Address</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Entrer the address of the restaurant\"\n              value={state.address}\n              onChange={e => {\n                dispatch({ type: 'SET_ADDRESS', payload: e.target.value });\n              }}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"p-4 bg-gray-100\">\n          <div className=\"flex justify-end\">\n            <button\n              className=\"px-4 py-2 text-sm font-semibold text-indigo-600 rounded\"\n              type=\"button\"\n              onKeyDown={e => {\n                e.persist();\n\n                if (e.key === ' ' || e.key === 'Enter' || e.key === 'Spacebar') {\n                  dispatch({ type: 'RESET' });\n                  handleCancel(e);\n                }\n              }}\n              onClick={e => {\n                e.persist();\n\n                dispatch({ type: 'RESET' });\n                handleCancel(e);\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              className=\"px-4 py-2 ml-2 text-sm font-semibold text-white bg-indigo-600 rounded\"\n              type=\"submit\"\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddRestaurantForm;\n"],"sourceRoot":""}