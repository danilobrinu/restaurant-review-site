{"version":3,"sources":["components/AddReviewForm.js"],"names":["avatars","initialState","avatar","rating","author","comment","getRandomAvatar","Math","floor","random","length","AddReviewForm","handleSubmit","handleCancel","React","useReducer","state","action","type","payload","dispatch","handleEscape","useCallback","e","key","useEffect","window","addEventListener","removeEventListener","className","onSubmit","persist","data","date","Date","role","tabIndex","icon","size","name","value","checked","onChange","target","placeholder","rows","onKeyDown","onClick"],"mappings":"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","file":"static/js/8.ca80413d.chunk.js","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\nconst avatars = [\n  'https://lh6.ggpht.com/-jaAm1eO765Q/AAAAAAAAAAI/AAAAAAAAAAA/HfmyBFH1UZs/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh4.ggpht.com/-Cu-MPkJG_4Y/AAAAAAAAAAI/AAAAAAAAAAA/DX_BrEbhVuQ/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh5.ggpht.com/-hgFk-liXn3A/AAAAAAAAAAI/AAAAAAAAAAA/A16JG3gJSpU/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh5.ggpht.com/-HsotJk0cfrw/AAAAAAAAAAI/AAAAAAAAAAA/z3atZ66qn0A/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-KmajRHZh-sw/AAAAAAAAAAI/AAAAAAAAAAA/MCXjoNGSZO0/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh4.ggpht.com/-rImN8nsM2fY/AAAAAAAAAAI/AAAAAAAAAAA/iL9CadC9kXw/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh5.ggpht.com/-xeAcqbCc1fs/AAAAAAAAAAI/AAAAAAAAAAA/g9V9J9JSvos/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-sSicK12N2DM/AAAAAAAAAAI/AAAAAAAAAAA/vXSAqNet4Ag/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-iy8gIz3zJYY/AAAAAAAAAAI/AAAAAAAAAAA/zzUjb0ENeaw/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-hReL3evr7Wg/AAAAAAAAAAI/AAAAAAAAAAA/fjuD5e2zxv8/s128-c0x00000000-cc-rp-mo/photo.jpg',\n];\nconst initialState = {\n  avatar: '',\n  rating: 1,\n  author: '',\n  comment: '',\n};\n\nconst getRandomAvatar = avatars => avatars[Math.floor(Math.random() * (avatars.length - 1))];\n\nfunction AddReviewForm({ handleSubmit, handleCancel }) {\n  const [state, dispatch] = React.useReducer((state, action) => {\n    switch (action.type) {\n      case 'SET_RATING': {\n        return { ...state, rating: action.payload };\n      }\n      case 'SET_AUTHOR': {\n        return { ...state, author: action.payload };\n      }\n      case 'SET_COMMENT': {\n        return { ...state, comment: action.payload };\n      }\n      case 'RESET': {\n        return initialState;\n      }\n      default: {\n        return state;\n      }\n    }\n  }, initialState);\n\n  const handleEscape = React.useCallback(e => e.key === 'Escape' && handleCancel(e), [\n    handleCancel,\n  ]);\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEscape);\n\n    return () => {\n      window.removeEventListener('keydown', handleEscape);\n    };\n  }, [handleEscape]);\n\n  return (\n    <div className=\"bg-white rounded-lg overflow-hidden\">\n      <form\n        onSubmit={e => {\n          e.persist();\n\n          const data = { ...state, avatar: getRandomAvatar(avatars), date: new Date() };\n\n          handleSubmit(e, data);\n        }}\n      >\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Rating</div>\n          <div className=\"mt-1\">\n            <div className=\"flex justify-around py-1\">\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 1 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"angry\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"1\"\n                  checked={state.rating === 1}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 2 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"frown\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"2\"\n                  checked={state.rating === 2}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 3 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"meh\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"3\"\n                  checked={state.rating === 3}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 4 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"smile\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"4\"\n                  checked={state.rating === 4}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 5 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"laugh\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"5\"\n                  checked={state.rating === 5}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Name</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Enter your name\"\n              value={state.author}\n              onChange={e => {\n                dispatch({ type: 'SET_AUTHOR', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2\">\n          <div className=\"text-xs leading-none\">Comment</div>\n          <div className=\"mt-1\">\n            <textarea\n              className=\"w-full py-1\"\n              type=\"text\"\n              rows=\"4\"\n              placeholder=\"Write a comment about your experience\"\n              value={state.comment}\n              onChange={e => {\n                dispatch({ type: 'SET_COMMENT', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"p-4 bg-gray-100\">\n          <div className=\"flex justify-end\">\n            <button\n              className=\"px-4 py-2 text-sm font-semibold text-indigo-600 rounded\"\n              type=\"button\"\n              onKeyDown={e => {\n                e.persist();\n\n                if (e.key === ' ' || e.key === 'Enter' || e.key === 'Spacebar') {\n                  dispatch({ type: 'RESET' });\n                  handleCancel(e);\n                }\n              }}\n              onClick={e => {\n                e.persist();\n\n                dispatch({ type: 'RESET' });\n                handleCancel(e);\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              className=\"px-4 py-2 ml-2 text-sm font-semibold text-white bg-indigo-600 rounded\"\n              type=\"submit\"\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddReviewForm;\n"],"sourceRoot":""}