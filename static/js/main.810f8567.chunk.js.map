{"version":3,"sources":["helpers.js","components/Scrollable.js","components/Query.js","components/Tag.js","components/Place.js","components/Divider.js","components/Review.js","components/Venue.js","components/PlaceDetails.js","components/PlaceDetailsPlaceholder.js","components/AddRestaurantForm.js","components/AddReviewForm.js","App.js","serviceWorker.js","index.js"],"names":["range","start","end","Array","from","length","_","k","getDataURI","file","a","async","maxFileSize","Promise","resolve","reject","sizeInMb","size","toFixed","reader","FileReader","onload","result","onerror","onabort","readAsDataURL","window","alert","getCurrentPosition","navigator","geolocation","coords","latitude","longitude","google","maps","LatLng","enableHighAccuracy","timeout","maximumAge","getNearbyPlaces","service","location","nearbySearch","radius","type","fields","places","status","PlacesServiceStatus","OK","normalizePlaces","getPlaceDetails","placeId","Object","prototype","hasOwnProperty","call","getDetails","place","normalizePlace","place_id","name","photos","getUrl","types","rating","user_ratings_total","geometry","international_phone_number","opening_hours","isOpen","website","vicinity","formatted_address","reviews","url","id","cover","maxWidth","maxHeight","slice","map","replace","phoneNumber","gmap","address","ratings","sortReviews","normalizeReviews","reduce","accumulator","review","avatar","profile_photo_url","author","author_name","comment","text","time","date","Date","normalizeReview","sort","left","right","getTime","getFilteredPlaces","query","minRating","maxRating","values","filter","toLowerCase","includes","getSortedPlaces","noop","gmapEncodeURI","uri","encodeURIComponent","uniqid","Math","random","toString","cleanMarkers","markers","forEach","marker","setMap","Scrollable","className","children","props","scrollableRef","React","useRef","useEffect","current","scrollTo","ref","Query","useState","loading","setLoading","error","setError","data","setData","fetch","useCallback","then","catch","finally","refetch","Tag","color","PlaceTags","tags","tag","key","Place","role","alt","src","charAt","Divider","Review","dir","Map","title","width","height","frameBorder","process","allowFullScreen","Info","InfoItem","icon","action","Venue","isOpenNow","rel","href","target","indexOf","join","PlaceDetails","handleDissmis","handleClickAddReview","tabIndex","onClick","e","persist","index","toUTCString","ReviewPlaceholder","VenuePlaceholder","PlaceDetailsPlaceholder","initialState","lat","lng","AddRestaurantForm","handleSubmit","handleCancel","useReducer","state","payload","dispatch","handleEscape","addEventListener","removeEventListener","onSubmit","preventDefault","accept","placeholder","onChange","files","required","value","avatars","getRandomAvatar","floor","AddReviewForm","checked","rows","App","setQuery","centerPosition","setCenterPosition","userPosition","setUserPosition","setPlaces","setPlaceId","setService","setMinRating","setMaxRating","showAddReview","setShowAddReview","showAddRestaurant","setShowAddRestaurant","locationClicked","setLocationClicked","showPlaceDetails","mapRef","getPlaceDetailsQuery","gMap","center","zoom","fullscreenControl","mapTypeControl","gestureHandling","gService","PlacesService","addListener","latLng","toJSON","getCenter","position","Marker","scaledSize","labelOrigin","x","y","label","setCenter","fontFamily","fontWeight","fontSize","filteredPlaces","useMemo","htmlFor","onKeyDown","option","restaurant","setLabel","addNewReview","Boolean","hostname","match","library","add","fas","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.810f8567.chunk.js","sourcesContent":["/**\n * range\n * @param {Number} start\n * @param {Number} end\n * @return {Number[]}\n */\nexport const range = (start, end) => Array.from({ length: end - start }, (_, k) => k + start);\n\n/**\n * getDataURI\n * @param {File} file\n * @param {?Number} maxFileSize the max file size in mb by default is 2.\n */\nexport const getDataURI = async (file, maxFileSize = 2) =>\n  new Promise((resolve, reject) => {\n    const sizeInMb = (file.size / 1e6).toFixed(3);\n\n    if (sizeInMb < maxFileSize) {\n      const reader = new FileReader();\n\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = () => reject();\n      reader.onabort = () => reject();\n\n      reader.readAsDataURL(file);\n    } else {\n      window.alert(\n        `Your file has ${sizeInMb}mb. The max is ${maxFileSize}mb. Please try again with another file.`\n      );\n\n      reject();\n    }\n  });\n\n/**\n * getCurrentPosition\n * @return {Promise}\n */\nexport const getCurrentPosition = async () =>\n  new Promise((resolve, reject) => {\n    if ('geolocation' in window.navigator) {\n      window.navigator.geolocation.getCurrentPosition(\n        ({ coords: { latitude, longitude } }) => {\n          resolve(new window.google.maps.LatLng(latitude, longitude));\n        },\n        () => reject(),\n        {\n          enableHighAccuracy: true,\n          timeout: 5000,\n          maximumAge: 0,\n        }\n      );\n    } else {\n      reject();\n    }\n  });\n\n/**\n * getNearbyPlaces\n * @param {google.maps.places.PlacesService} service instance of PlacesService (https://developers.google.com/maps/documentation/javascript/reference/places-service)\n * @param {google.maps.LatLng} location instance of LatLng (https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLng)\n * @return {Promise}\n */\nexport const getNearbyPlaces = async (service, location) =>\n  new Promise((resolve, reject) => {\n    service.nearbySearch(\n      { location, radius: 500, type: ['restaurant'], fields: ['formatted_address'] },\n      (places, status) => {\n        switch (status) {\n          case window.google.maps.places.PlacesServiceStatus.OK:\n            resolve(normalizePlaces(places));\n            break;\n          default:\n            resolve({});\n            break;\n        }\n      },\n      () => reject()\n    );\n  });\n\n/**\n * getPlaceDetails\n * @param {google.maps.places.PlacesService} service instance of PlacesService (https://developers.google.com/maps/documentation/javascript/reference/places-service)\n * @param {String} placeId\n * @return {Promise}\n */\nexport const getPlaceDetails = async (service, placeId) =>\n  new Promise((resolve, reject) => {\n    if (Object.prototype.hasOwnProperty.call(window.places, placeId)) {\n      resolve(window.places[placeId]);\n    } else {\n      service.getDetails(\n        {\n          placeId,\n          fields: [\n            'place_id',\n            'name',\n            'type',\n            'reviews',\n            'user_ratings_total',\n            'formatted_address',\n            'photos',\n            'international_phone_number',\n            'url',\n            'rating',\n            'geometry',\n            'vicinity',\n            'website',\n          ],\n        },\n        (place, status) => {\n          if (status === window.google.maps.places.PlacesServiceStatus.OK) {\n            window.places[placeId] = normalizePlace(place);\n\n            resolve(window.places[placeId]);\n          } else {\n            reject();\n          }\n        }\n      );\n    }\n  });\n\n/**\n * normalizePlace\n * @param {Object} RawPlaceObject\n * @return {Object}\n */\nexport const normalizePlace = ({\n  place_id = '',\n  name = '',\n  photos = [{ getUrl: () => null }],\n  types = [],\n  rating = 0,\n  user_ratings_total = 0,\n  geometry: { location },\n  international_phone_number = '',\n  opening_hours: { isOpen = () => true } = {},\n  website = '',\n  vicinity = '',\n  formatted_address = '',\n  reviews = [],\n  url = '',\n}) => ({\n  id: place_id,\n  cover: photos[0].getUrl({ maxWidth: 570, maxHeight: 260 }),\n  types: types.slice(-8).map(type => type.replace(/_/g, ' ')),\n  rating: +rating.toFixed(1),\n  phoneNumber: international_phone_number,\n  gmap: url,\n  address: formatted_address || vicinity,\n  ratings: user_ratings_total,\n  reviews: sortReviews(normalizeReviews(reviews)),\n  isOpen,\n  website,\n  name,\n  location,\n});\n\n/**\n * normalizePlaces\n * @param {Object[]} places\n * @return {Object<string, Object>}\n */\nexport const normalizePlaces = places =>\n  places.reduce((accumulator, place) => {\n    accumulator[place.place_id] = normalizePlace(place);\n\n    return accumulator;\n  }, {});\n\n/**\n * normalizeReview\n * @param {Object} RawReviewObject\n * @return {Object}\n */\nexport const normalizeReview = ({\n  profile_photo_url: avatar,\n  author_name: author,\n  text: comment,\n  time,\n}) => ({\n  date: new Date(time * 1000),\n  avatar,\n  author,\n  comment,\n});\n\n/**\n * normalizeReviews\n * @param {Object[]} reviews\n * @return {Object[]}\n */\nexport const normalizeReviews = reviews => reviews.map(review => normalizeReview(review));\n\n/**\n * sortReviews\n * @param {Object[]} reviews\n * @return {Object[]}\n */\nexport const sortReviews = reviews =>\n  reviews.sort((left, right) => right.date.getTime() - left.date.getTime());\n\n/**\n * getFilteredPlaces\n * @param {Object<string, Object>} places\n * @param {String} query\n * @param {Number} minRating\n * @param {Number} maxRating\n * @return {Object[]}\n */\nexport const getFilteredPlaces = (places, query, minRating, maxRating) =>\n  Object.values(places).filter(\n    ({ name, rating }) =>\n      name.toLowerCase().includes(query.toLowerCase()) && rating >= minRating && rating <= maxRating\n  );\n\n/**\n * getSortedPlaces\n * @param {Object[]} places\n * @return {Object[]}\n */\nexport const getSortedPlaces = places => places.sort((left, right) => right.rating - left.rating);\n\nexport const noop = () => {};\n\n/**\n * gmapEncodeURI\n * @param {String} uri\n * @return {String}\n */\nexport const gmapEncodeURI = uri => window.encodeURIComponent(uri);\n\n/**\n * uniqid\n * @return {String} return a random string\n */\nexport const uniqid = () => (new Date().getTime() * Math.random()).toString(32).replace('.', '');\n\n/**\n * cleanMarkers\n */\nexport const cleanMarkers = () =>\n  Object.values(window.markers).forEach(marker => marker.setMap(null));\n","import React from 'react';\n\nfunction Scrollable({ className = '', children, ...props }) {\n  const scrollableRef = React.useRef(null);\n\n  React.useEffect(() => scrollableRef.current.scrollTo(0, 0), []);\n\n  return (\n    <div\n      ref={scrollableRef}\n      className={`relative w-full h-full max-h-full overflow-x-hidden overflow-y-scroll ${className}`}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Scrollable;\n","import React from 'react';\n\n/**\n * useQuery\n * @param {{query: Promise}}\n */\nfunction Query({ query, children }) {\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState('');\n  const [data, setData] = React.useState(null);\n\n  const fetch = React.useCallback(() => {\n    query()\n      .then(result => setData(result))\n      .catch(result => setError(result))\n      .finally(() => setLoading(false));\n  }, [query]);\n\n  React.useEffect(() => fetch(), [fetch]);\n\n  return <>{children({ loading, error, data, refetch: fetch })}</>;\n}\n\nexport default Query;\n","import React from 'react';\n\nfunction Tag({ color, className, children, ...props }) {\n  return (\n    <span\n      className={`inline-block bg-${color}-200 text-xs capitalize text-${color}-800 tracking-wide font-semibold px-2 rounded-lg ${className}`}\n      {...props}\n    >\n      {children}\n    </span>\n  );\n}\n\nexport default Tag;\n","import React from 'react';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport Tag from './Tag';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nfunction PlaceTags({ tags }) {\n  return (\n    <div>\n      {tags.map(tag => (\n        <Tag key={`place-tag-${tag}`} className=\"mr-2\" color=\"purple\">\n          {tag}\n        </Tag>\n      ))}\n    </div>\n  );\n}\n\nfunction Place({ name = '', cover = '', rating = 0, ratings = 0, types = [], ...props }) {\n  return (\n    <div\n      role=\"button\"\n      className=\"flex p-3 -mx-3 my-2 rounded hover:shadow-md focus:shadow-md\"\n      {...props}\n    >\n      <div className=\"w-32 min-w-32 h-32\">\n        {cover ? (\n          <img alt=\"cover\" className=\"w-32 h-32 object-cover bg-gray-200 rounded\" src={cover} />\n        ) : (\n          <div className=\"flex items-center justify-center w-32 h-32 bg-gray-200 rounded\">\n            <span className=\"uppercase text-lg font-bold\">{name.charAt(0)}</span>\n          </div>\n        )}\n      </div>\n      <div className=\"flex flex-col items-start flex-1 pl-4\">\n        <div className=\"flex items-start mb-2\">\n          <Tag className=\"mr-2\" color=\"indigo\">\n            {rating || 'New'}\n          </Tag>\n          <span className=\"inline-block text-lg font-bold leading-none text-gray-900\">{name}</span>\n        </div>\n        <PlaceTags tags={types} />\n        <div className=\"text-xs font-bold text-gray-600 mt-auto\">\n          {ratings > 0 ? `${ratings} ratings` : 'Without ratings'}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Place;\n","import React from 'react';\n\nfunction Divider({ className }) {\n  return <div className={`h-px my-8 bg-gray-300 ${className}`} />;\n}\n\nexport default Divider;\n","import React from 'react';\n\nfunction Review({ avatar, author, date, comment }) {\n  return (\n    <div className=\"mb-8\">\n      <div className=\"flex items-center\">\n        <div className=\"w-12 h-12\">\n          <img className=\"w-12 h-12 object-fit rounded-full\" alt={author} src={avatar} />\n        </div>\n        <div className=\"ml-2\">\n          <div className=\"text-sm leading-snug font-bold text-gray-900\">{author}</div>\n          <div className=\"text-sm leading-snug text-gray-600\">{date}</div>\n        </div>\n      </div>\n      <div className=\"my-4\">\n        <div dir=\"ltr\" className=\"text-base text-gray-900\">\n          {comment}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Review;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\nimport { gmapEncodeURI } from '../helpers';\n\nfunction Map({ name }) {\n  const query = gmapEncodeURI(name);\n\n  return (\n    <div className=\"w-full h-64 bg-gray-200 rounded\">\n      <iframe\n        title=\"Map\"\n        width=\"100%\"\n        height=\"256\"\n        frameBorder=\"0\"\n        className=\"h-full h-64 b-0\"\n        src={`https://www.google.com/maps/embed/v1/place?key=${process.env.REACT_APP_GMAPS_API_KEY}&q=${query}`}\n        allowFullScreen\n      />\n    </div>\n  );\n}\n\nfunction Info({ children }) {\n  return (\n    <table className=\"w-full mt-6\">\n      <tbody>{children}</tbody>\n    </table>\n  );\n}\n\nfunction InfoItem({ icon, action, children }) {\n  return (\n    <tr>\n      <td className=\"w-6 pr-2 py-2 align-top\">\n        <Icon icon={icon} />\n      </td>\n      <td className=\"w-6/12 py-2 align-top\">{children}</td>\n      <td className=\"py-2 text-right align-top\">{action}</td>\n    </tr>\n  );\n}\n\nfunction Venue({ name, address, gmap, phoneNumber, website, isOpenNow, types }) {\n  return (\n    <div className=\"w-full\">\n      <Map name={name} />\n\n      <Info>\n        <InfoItem\n          icon=\"map-marker\"\n          action={\n            gmap ? (\n              <a\n                rel=\"noopener noreferrer\"\n                className=\"text-sm text-indigo-600 no-underline hover:underline\"\n                href={gmap}\n                target=\"_blank\"\n              >\n                Get directions\n              </a>\n            ) : null\n          }\n        >\n          <span className=\"text-sm text-gray-900\">{address}</span>\n        </InfoItem>\n\n        {phoneNumber.length > 0 && (\n          <InfoItem\n            icon=\"phone-alt\"\n            action={\n              <a\n                rel=\"noopener noreferrer\"\n                className=\"text-sm text-indigo-600 no-underline hover:underline\"\n                href={`tel:${phoneNumber.replace(/ /g, '')}`}\n                target=\"_blank\"\n              >\n                Call\n              </a>\n            }\n          >\n            <span className=\"text-sm text-gray-900\">{phoneNumber}</span>\n          </InfoItem>\n        )}\n\n        {website.length > 0 && (\n          <InfoItem icon=\"globe\">\n            <a\n              rel=\"noopener noreferrer\"\n              className=\"text-sm text-indigo-600 no-underline hover:underline\"\n              href={website}\n              target=\"_blank\"\n            >\n              {website.indexOf('facebook') > -1 ? 'facebook.com' : website}\n            </a>\n          </InfoItem>\n        )}\n\n        <InfoItem icon=\"clock\">\n          <span className=\"text-sm text-gray-900\">{`${isOpenNow ? 'Open' : 'Closed now'}`}</span>\n        </InfoItem>\n\n        <InfoItem icon=\"utensils\">\n          <span className=\"text-sm capitalize text-gray-900\">{types.join(', ')}</span>\n        </InfoItem>\n      </Info>\n    </div>\n  );\n}\n\nexport default Venue;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport Divider from './Divider';\nimport Review from './Review';\nimport Venue from './Venue';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nfunction PlaceDetails({ place = null, handleDissmis = () => {}, handleClickAddReview = () => {} }) {\n  return (\n    <div className=\"w-full\">\n      <header>\n        <nav className=\"flex items-center absolute top-0 right-0 p-6\">\n          <div\n            className=\"flex items-center justify-center w-12 h-12 bg-white rounded-full shadow-md cursor-pointer select-none\"\n            role=\"button\"\n            tabIndex=\"0\"\n            onClick={e => {\n              e.persist();\n\n              handleDissmis(e);\n            }}\n          >\n            <Icon className=\"text-gray-900\" icon=\"times\" />\n          </div>\n        </nav>\n\n        <div className=\"mb-8\">\n          {place.cover ? (\n            <img className=\"w-full h-64 object-cover bg-gray-200\" alt=\"cover\" src={place.cover} />\n          ) : (\n            <div className=\"w-full h-64 object-cover bg-gray-200\" />\n          )}\n        </div>\n        <div className=\"px-6\">\n          <div className=\"m-0\">\n            <span className=\"text-xs uppercase font-bold text-gray-600\">Restaurant</span>\n          </div>\n          <div className=\"mt-2\">\n            <div className=\"text-4xl font-bold leading-none text-gray-900 my-2\">{place.name}</div>\n            <div className=\"mt-2\">\n              <span className=\"text-sm\">{place.ratings} ratings</span>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"mb-6\">\n        <Divider className=\"mx-6\" />\n\n        <section>\n          <div className=\"mx-6\">\n            <Venue\n              name={place.name}\n              address={place.address}\n              phoneNumber={place.phoneNumber}\n              types={place.types}\n              gmap={place.gmap}\n              website={place.website}\n              isOpenNow={place.isOpen()}\n            />\n          </div>\n        </section>\n\n        <Divider className=\"mx-6\" />\n\n        <section>\n          <div className=\"mx-6\">\n            <header className=\"mb-6\">\n              <span className=\"text-2xl font-bold\">Reviews</span>\n            </header>\n\n            {place.reviews.length > 0 ? (\n              <>\n                {place.reviews.map((review, index) => (\n                  <Review\n                    key={`review-${index}`}\n                    avatar={review.avatar}\n                    author={review.author}\n                    date={review.date.toUTCString()}\n                    comment={review.comment}\n                  />\n                ))}\n              </>\n            ) : (\n              <>\n                <div className=\"mb-4\">\n                  <div className=\"text-2xl font-bold text-center\">No Reviews, yet.</div>\n                  <div className=\"text-center\">\n                    No reviews yet in this restaurant! Start adding a new review.\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </section>\n\n        <section>\n          <div className=\"mx-6\">\n            <button\n              className=\"w-full py-4 text-sm font-semibold leading-none text-white uppercase tracking-wider bg-indigo-600 rounded-lg\"\n              onClick={e => {\n                e.persist();\n\n                handleClickAddReview(e);\n              }}\n            >\n              Add Review\n            </button>\n          </div>\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default PlaceDetails;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport Divider from './Divider';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nfunction ReviewPlaceholder() {\n  return (\n    <div className=\"mb-8\">\n      <div className=\"flex items-center\">\n        <div className=\"w-12 h-12\">\n          <div className=\"w-12 h-12 bg-gray-200 rounded-full\" />\n        </div>\n        <div className=\"ml-2\">\n          <div className=\"text-sm leading-snug font-bold w-20 bg-gray-400\">&nbsp;</div>\n          <div className=\"text-sm leading-snug w-48 bg-gray-400\">&nbsp;</div>\n        </div>\n      </div>\n      <div className=\"my-4\">\n        <div dir=\"ltr\" className=\"text-base w-full h-20 bg-gray-400\">\n          &nbsp;\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Info({ children }) {\n  return (\n    <table className=\"w-full mt-6\">\n      <tbody>{children}</tbody>\n    </table>\n  );\n}\n\nfunction InfoItem({ icon, action, children }) {\n  return (\n    <tr>\n      <td className=\"w-6 pr-2 py-2 align-top\">\n        <Icon icon={icon} />\n      </td>\n      <td className=\"w-6/12 py-2 align-top\">{children}</td>\n      <td className=\"py-2 text-right align-top\">{action}</td>\n    </tr>\n  );\n}\n\nfunction VenuePlaceholder() {\n  return (\n    <div className=\"w-full\">\n      <div className=\"w-full h-64 bg-gray-200 rounded\" />\n\n      <Info>\n        <InfoItem\n          icon=\"map-marker\"\n          action={<div className=\"text-sm inline-block w-24 bg-gray-400\">&nbsp;</div>}\n        >\n          <div className=\"text-sm w-full h-20 bg-gray-400\">&nbsp;</div>\n        </InfoItem>\n\n        <InfoItem\n          icon=\"phone-alt\"\n          action={<div className=\"text-sm inline-block w-16 bg-gray-400\">&nbsp;</div>}\n        >\n          <div className=\"text-sm w-40 bg-gray-400\">&nbsp;</div>\n        </InfoItem>\n\n        <InfoItem icon=\"globe\">\n          <div className=\"text-sm w-24 bg-gray-400\">&nbsp;</div>\n        </InfoItem>\n\n        <InfoItem icon=\"clock\">\n          <div className=\"text-sm w-24 bg-gray-400\">&nbsp;</div>\n        </InfoItem>\n\n        <InfoItem icon=\"utensils\">\n          <div className=\"text-sm capitalize w-24 bg-gray-400\">&nbsp;</div>\n        </InfoItem>\n      </Info>\n    </div>\n  );\n}\n\nfunction PlaceDetailsPlaceholder() {\n  return (\n    <div className=\"w-full\">\n      <header>\n        <nav className=\"flex items-center absolute top-0 right-0 p-6\">\n          <div\n            className=\"flex items-center justify-center w-12 h-12 bg-white rounded-full shadow-md cursor-pointer select-none\"\n            role=\"button\"\n            tabIndex=\"0\"\n          >\n            <Icon className=\"text-gray-900\" icon=\"times\" />\n          </div>\n        </nav>\n\n        <div className=\"mb-8\">\n          <div className=\"w-full h-64 bg-gray-100\" />\n        </div>\n        <div className=\"px-6\">\n          <div className=\"m-0\">\n            <div className=\"text-xs uppercase font-bold w-24 bg-gray-400\">&nbsp;</div>\n          </div>\n          <div className=\"mt-2\">\n            <div className=\"text-4xl font-bold leading-none my-2 w-full bg-gray-400\">&nbsp;</div>\n            <div className=\"mt-2\">\n              <div className=\"text-sm w-20 bg-gray-400\">&nbsp;</div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"mb-6\">\n        <Divider className=\"mx-6\" />\n\n        <section>\n          <div className=\"mx-6\">\n            <VenuePlaceholder />\n          </div>\n        </section>\n\n        <Divider className=\"mx-6\" />\n\n        <section>\n          <div className=\"mx-6\">\n            <header className=\"mb-6\">\n              <div className=\"text-2xl font-bold w-32 bg-gray-400\">&nbsp;</div>\n            </header>\n\n            <ReviewPlaceholder />\n          </div>\n        </section>\n\n        <section>\n          <div className=\"mx-6\">\n            <button className=\"w-full py-4 text-sm font-semibold leading-none text-white uppercase tracking-wider bg-indigo-600 rounded-lg\">\n              &nbsp;\n            </button>\n          </div>\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default PlaceDetailsPlaceholder;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\nimport { getDataURI, uniqid, noop } from '../helpers';\n\nconst initialState = {\n  name: '',\n  cover: '',\n  location: { lat: '', lng: '' },\n  phoneNumber: '',\n  website: '',\n  address: '',\n  // static values\n  gmap: null,\n  isOpen: () => true,\n  rating: 0,\n  ratings: 0,\n  reviews: [],\n  types: ['restaurant'],\n};\n\nfunction AddRestaurantForm({ location, handleSubmit, handleCancel }) {\n  const [state, dispatch] = React.useReducer((state, action) => {\n    switch (action.type) {\n      case 'RESET': {\n        return initialState;\n      }\n      case 'SET_COVER': {\n        return { ...state, cover: action.payload };\n      }\n      case 'SET_NAME': {\n        return { ...state, name: action.payload };\n      }\n      case 'SET_PHONE_NUMBER': {\n        return { ...state, phoneNumber: action.payload };\n      }\n      case 'SET_WEBSITE': {\n        return { ...state, website: action.payload };\n      }\n      case 'SET_ADDRESS': {\n        return { ...state, address: action.payload };\n      }\n      case 'SET_LOCATION': {\n        return { ...state, location: action.payload };\n      }\n      case 'SET_LOCATION_LATITUDE': {\n        return { ...state, location: { ...state.location, lat: action.payload } };\n      }\n      case 'SET_LOCATION_LONGITUDE': {\n        return { ...state, location: { ...state.location, lng: action.payload } };\n      }\n      default: {\n        return state;\n      }\n    }\n  }, initialState);\n\n  React.useEffect(() => {\n    dispatch({ type: 'SET_LOCATION', payload: location });\n  }, [location]);\n\n  const handleEscape = React.useCallback(e => e.key === 'Escape' && handleCancel(e), [\n    handleCancel,\n  ]);\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEscape);\n\n    return () => {\n      window.removeEventListener('keydown', handleEscape);\n    };\n  }, [handleEscape]);\n\n  return (\n    <div className=\"bg-white rounded-lg overflow-hidden\">\n      <form\n        onSubmit={e => {\n          e.persist();\n          e.preventDefault();\n\n          const data = { ...state, id: uniqid() };\n\n          handleSubmit(e, data);\n        }}\n      >\n        <div className=\"relative bg-indigo-400 h-64\">\n          <label className=\"absolute inset-0\">\n            {state.cover ? (\n              <img className=\"w-full h-full object-fit\" alt={state.name} src={state.cover} />\n            ) : (\n              <div className=\"flex flex-col items-center justify-center relative w-full h-full\">\n                <Icon icon=\"image\" color=\"#fff\" size=\"8x\" />\n                <div className=\"inline-block px-4 py-1 text-xs font-semibold text-indigo-800 bg-indigo-200 rounded-lg\">\n                  Add a preview image\n                </div>\n                <input\n                  className=\"absolute inset-0 opacity-0 cursor-pointer z-10\"\n                  type=\"file\"\n                  name=\"cover\"\n                  accept=\"image/png, image/jpeg\"\n                  placeholder=\"Cover\"\n                  onChange={e => {\n                    getDataURI(e.target.files[0])\n                      .then(result => dispatch({ type: 'SET_COVER', payload: result }))\n                      .catch(noop);\n                  }}\n                  required\n                />\n              </div>\n            )}\n          </label>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Name</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"What is the name of the restaurant?\"\n              value={state.name}\n              onChange={e => {\n                dispatch({ type: 'SET_NAME', payload: e.target.value });\n              }}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Location</div>\n          <div className=\"flex mt-1\">\n            <div className=\"w-6/12\">\n              <input\n                className=\"w-full py-1\"\n                type=\"text\"\n                placeholder=\"Latitude\"\n                value={state.location.lat}\n                onChange={e => {\n                  dispatch({ type: 'SET_LOCATION_LATITUDE', payload: e.target.value });\n                }}\n                required\n              />\n            </div>\n            <div className=\"w-6/12\">\n              <input\n                className=\"w-full py-1\"\n                type=\"text\"\n                placeholder=\"Longitude\"\n                value={state.location.lng}\n                onChange={e => {\n                  dispatch({ type: 'SET_LOCATION_LONGITUDE', payload: e.target.value });\n                }}\n                required\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Phone Number</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Phone Number\"\n              value={state.phoneNumber}\n              onChange={e => {\n                dispatch({ type: 'SET_PHONE_NUMBER', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Website</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Website\"\n              value={state.website}\n              onChange={e => {\n                dispatch({ type: 'SET_WEBSITE', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2\">\n          <div className=\"text-xs leading-none\">Address</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Entrer the address of the restaurant\"\n              value={state.address}\n              onChange={e => {\n                dispatch({ type: 'SET_ADDRESS', payload: e.target.value });\n              }}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"p-4 bg-gray-100\">\n          <div className=\"flex justify-end\">\n            <button\n              className=\"px-4 py-2 text-sm font-semibold text-indigo-600 rounded\"\n              type=\"button\"\n              onClick={e => {\n                e.persist();\n\n                dispatch({ type: 'RESET' });\n                handleCancel(e);\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              className=\"px-4 py-2 ml-2 text-sm font-semibold text-white bg-indigo-600 rounded\"\n              type=\"submit\"\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddRestaurantForm;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\nconst avatars = [\n  'https://lh6.ggpht.com/-jaAm1eO765Q/AAAAAAAAAAI/AAAAAAAAAAA/HfmyBFH1UZs/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh4.ggpht.com/-Cu-MPkJG_4Y/AAAAAAAAAAI/AAAAAAAAAAA/DX_BrEbhVuQ/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh5.ggpht.com/-hgFk-liXn3A/AAAAAAAAAAI/AAAAAAAAAAA/A16JG3gJSpU/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh5.ggpht.com/-HsotJk0cfrw/AAAAAAAAAAI/AAAAAAAAAAA/z3atZ66qn0A/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-KmajRHZh-sw/AAAAAAAAAAI/AAAAAAAAAAA/MCXjoNGSZO0/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh4.ggpht.com/-rImN8nsM2fY/AAAAAAAAAAI/AAAAAAAAAAA/iL9CadC9kXw/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh5.ggpht.com/-xeAcqbCc1fs/AAAAAAAAAAI/AAAAAAAAAAA/g9V9J9JSvos/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-sSicK12N2DM/AAAAAAAAAAI/AAAAAAAAAAA/vXSAqNet4Ag/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-iy8gIz3zJYY/AAAAAAAAAAI/AAAAAAAAAAA/zzUjb0ENeaw/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-hReL3evr7Wg/AAAAAAAAAAI/AAAAAAAAAAA/fjuD5e2zxv8/s128-c0x00000000-cc-rp-mo/photo.jpg',\n];\nconst initialState = {\n  avatar: '',\n  rating: 1,\n  author: '',\n  comment: '',\n};\n\nconst getRandomAvatar = avatars => avatars[Math.floor(Math.random() * (avatars.length - 1))];\n\nfunction AddReviewForm({ handleSubmit, handleCancel }) {\n  const [state, dispatch] = React.useReducer((state, action) => {\n    switch (action.type) {\n      case 'SET_RATING': {\n        return { ...state, rating: action.payload };\n      }\n      case 'SET_AUTHOR': {\n        return { ...state, author: action.payload };\n      }\n      case 'SET_COMMENT': {\n        return { ...state, comment: action.payload };\n      }\n      case 'RESET': {\n        return initialState;\n      }\n      default: {\n        return state;\n      }\n    }\n  }, initialState);\n\n  const handleEscape = React.useCallback(e => e.key === 'Escape' && handleCancel(e), [\n    handleCancel,\n  ]);\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEscape);\n\n    return () => {\n      window.removeEventListener('keydown', handleEscape);\n    };\n  }, [handleEscape]);\n\n  return (\n    <div className=\"bg-white rounded-lg overflow-hidden\">\n      <form\n        onSubmit={e => {\n          e.persist();\n          e.preventDefault();\n\n          const data = { ...state, avatar: getRandomAvatar(avatars), date: new Date() };\n\n          handleSubmit(e, data);\n        }}\n      >\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Rating</div>\n          <div className=\"mt-1\">\n            <div className=\"flex justify-around py-1\">\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 1 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"angry\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"1\"\n                  checked={state.rating === 1}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 2 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"frown\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"2\"\n                  checked={state.rating === 2}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 3 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"meh\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"3\"\n                  checked={state.rating === 3}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 4 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"smile\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"4\"\n                  checked={state.rating === 4}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 5 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"laugh\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"5\"\n                  checked={state.rating === 5}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Name</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Enter your name\"\n              value={state.author}\n              onChange={e => {\n                dispatch({ type: 'SET_AUTHOR', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2\">\n          <div className=\"text-xs leading-none\">Comment</div>\n          <div className=\"mt-1\">\n            <textarea\n              className=\"w-full py-1\"\n              type=\"text\"\n              rows=\"4\"\n              placeholder=\"Write a comment about your experience\"\n              value={state.comment}\n              onChange={e => {\n                dispatch({ type: 'SET_COMMENT', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"p-4 bg-gray-100\">\n          <div className=\"flex justify-end\">\n            <button\n              className=\"px-4 py-2 text-sm font-semibold text-indigo-600 rounded\"\n              type=\"button\"\n              onClick={e => {\n                e.persist();\n\n                dispatch({ type: 'RESET' });\n\n                handleCancel(e);\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              className=\"px-4 py-2 ml-2 text-sm font-semibold text-white bg-indigo-600 rounded\"\n              type=\"submit\"\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddReviewForm;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport {\n  getCurrentPosition,\n  getNearbyPlaces,\n  getPlaceDetails,\n  getFilteredPlaces,\n  getSortedPlaces,\n  cleanMarkers,\n  noop,\n  range,\n} from './helpers';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport Scrollable from './components/Scrollable';\nimport Query from './components/Query';\nimport Place from './components/Place';\nimport PlaceDetails from './components/PlaceDetails';\nimport PlaceDetailsPlaceholder from './components/PlaceDetailsPlaceholder';\nimport AddRestaurantForm from './components/AddRestaurantForm';\nimport AddReviewForm from './components/AddReviewForm';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nwindow.places = {};\nwindow.markers = {};\n\nfunction App() {\n  const [query, setQuery] = React.useState('');\n  const [centerPosition, setCenterPosition] = React.useState(new window.google.maps.LatLng(0, 0));\n  const [userPosition, setUserPosition] = React.useState(null);\n  const [places, setPlaces] = React.useState({});\n  const [placeId, setPlaceId] = React.useState(null);\n  const [map, setMap] = React.useState(null);\n  const [service, setService] = React.useState(null);\n  const [minRating, setMinRating] = React.useState(0);\n  const [maxRating, setMaxRating] = React.useState(5);\n  const [showAddReview, setShowAddReview] = React.useState(false);\n  const [showAddRestaurant, setShowAddRestaurant] = React.useState(false);\n  const [locationClicked, setLocationClicked] = React.useState({ lat: 0, lng: 0 });\n  const showPlaceDetails = !!placeId;\n  const mapRef = React.useRef();\n\n  const getPlaceDetailsQuery = React.useCallback(() => getPlaceDetails(service, placeId), [\n    service,\n    placeId,\n  ]);\n\n  React.useEffect(() => {\n    const gMap = new window.google.maps.Map(mapRef.current, {\n      center: new window.google.maps.LatLng(0, 0),\n      zoom: 16,\n      fullscreenControl: false,\n      mapTypeControl: false,\n      gestureHandling: 'cooperative',\n    });\n    const gService = new window.google.maps.places.PlacesService(gMap);\n\n    gMap.addListener('click', e => {\n      setLocationClicked(e.latLng.toJSON());\n      setShowAddRestaurant(true);\n    });\n\n    gMap.addListener('dragend', () => setCenterPosition(gMap.getCenter()));\n\n    setMap(gMap);\n    setService(gService);\n  }, []);\n\n  React.useEffect(() => {\n    getCurrentPosition()\n      .then(position => setUserPosition(position))\n      .catch(noop);\n  }, []);\n\n  React.useEffect(() => {\n    if (!map || !userPosition) return;\n\n    new window.google.maps.Marker({\n      map,\n      position: userPosition,\n      icon: {\n        url: 'images/marker.png',\n        scaledSize: { width: 32, height: 48 },\n        labelOrigin: { x: 16, y: 18 },\n      },\n      label: '',\n    });\n\n    setCenterPosition(userPosition);\n  }, [map, userPosition]);\n\n  React.useEffect(() => {\n    if (!map) return;\n\n    map.setCenter(centerPosition);\n  }, [map, centerPosition]);\n\n  React.useEffect(() => {\n    if (!service) return;\n\n    getNearbyPlaces(service, centerPosition)\n      .then(result => setPlaces(result))\n      .catch(noop);\n  }, [service, centerPosition]);\n\n  React.useEffect(() => {\n    if (!placeId) return;\n\n    if (!Object.prototype.hasOwnProperty.call(places, placeId)) {\n      setPlaceId(null);\n    }\n  }, [places, placeId]);\n\n  React.useEffect(() => {\n    if (!map) return;\n\n    cleanMarkers();\n\n    const markers = Object.values(places).reduce(\n      (accumulator, { location: position, id, rating }) => {\n        const marker = new window.google.maps.Marker({\n          map,\n          position,\n          icon: {\n            url: 'images/marker.png',\n            scaledSize: { width: 32, height: 48 },\n            labelOrigin: { x: 16, y: 18 },\n          },\n          label: {\n            fontFamily: '\"Montserrat\", sans-serif',\n            fontWeight: '600',\n            fontSize: '12px',\n            color: '#fff',\n            text: rating > 0 ? rating.toString() : 'N',\n          },\n        });\n\n        marker.addListener('click', () => setPlaceId(id));\n\n        accumulator[id] = marker;\n\n        return accumulator;\n      },\n      {}\n    );\n\n    window.markers = markers;\n  }, [map, places]);\n\n  const filteredPlaces = React.useMemo(\n    () => getSortedPlaces(getFilteredPlaces(places, query, minRating, maxRating)),\n    [places, query, minRating, maxRating]\n  );\n\n  const addNewRestaurant = data => {\n    window.places[data.id] = data;\n\n    setPlaces(state => ({ ...state, [data.id]: window.places[data.id] }));\n    setShowAddRestaurant(false);\n  };\n\n  const addNewReview = (data, place) => {\n    const reviews = [data, ...place.reviews];\n    const rating = place.rating\n      ? // Incremental Average:\n        // Formula:  -> ( ((Total Count - 1) * Previous Average) + New Number) / Total count\n        ((place.ratings * place.rating + data.rating) / (place.ratings + 1)).toFixed(1)\n      : data.rating;\n    const ratings = place.ratings + 1;\n\n    window.places[place.id] = {\n      ...place,\n      rating,\n      ratings,\n      reviews,\n    };\n    window.markers[place.id].setLabel(rating.toString());\n\n    setPlaces(state => ({ ...state, [place.id]: window.places[place.id] }));\n    setShowAddReview(false);\n  };\n\n  return (\n    <div className=\"absolute inset-0\">\n      <div className=\"flex relative w-full h-full overflow-hidden\">\n        <div className=\"flex-initial relative w-full max-w-xl h-full shadow-xl z-50\">\n          <div className=\"flex flex-col w-full h-full\">\n            <header className=\"flex-none\">\n              <nav className=\"flex py-4 border-b\">\n                <div className=\"w-full px-6\">\n                  <form>\n                    <div className=\"flex items-center h-12 shadow-md rounded\">\n                      <label className=\"w-full\" htmlFor=\"query\">\n                        <div className=\"flex\">\n                          <div\n                            className=\"flex flex-initial w-10 h-10 items-center justify-center cursor-pointer\"\n                            role=\"button\"\n                            tabIndex=\"0\"\n                          >\n                            <Icon className=\"text-gray-900\" icon=\"search\" />\n                          </div>\n                          <input\n                            id=\"query\"\n                            className=\"flex-auto h-10 font-bold text-gray-900 placeholder-gray-600 rounded\"\n                            name=\"query\"\n                            value={query}\n                            placeholder=\"Search a Restaurant\"\n                            onChange={e => setQuery(e.target.value)}\n                          />\n                          {query.length > 0 && (\n                            <div\n                              className=\"flex flex-initial w-10 h-10 items-center justify-center cursor-pointer\"\n                              tabIndex=\"0\"\n                              role=\"button\"\n                              onKeyDown={e => {\n                                if (e.key === ' ' || e.key === 'Enter' || e.key === 'Spacebar') {\n                                  e.preventDefault();\n\n                                  setQuery('');\n                                }\n                              }}\n                              onClick={() => setQuery('')}\n                            >\n                              <Icon className=\"text-gray-900\" icon=\"times\" />\n                            </div>\n                          )}\n                        </div>\n                      </label>\n                    </div>\n                    <div className=\"flex mt-3\">\n                      <div className=\"flex-1\">\n                        <select\n                          className=\"w-full h-12 px-4 font-bold text-gray-900 bg-gray-200 shadow-inner appearance-none rounded\"\n                          value={minRating}\n                          onChange={e => setMinRating(+e.target.value)}\n                        >\n                          <option key=\"min-rating-option-0\" value=\"0\">\n                            New\n                          </option>\n                          {range(1, 5).map(option => (\n                            <option key={`min-rating-option-${option}`} value={option}>\n                              {option} (Star{option > 1 ? 's' : ''})\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                      <div className=\"flex items-center justify-center w-12\">\n                        <span className=\"font-bold\"></span>\n                      </div>\n                      <div className=\"flex-1\">\n                        <select\n                          className=\"w-full h-12 px-4 font-bold text-gray-900 bg-gray-200 shadow-inner appearance-none rounded\"\n                          value={maxRating}\n                          onChange={e => setMaxRating(+e.target.value)}\n                        >\n                          {range(minRating + 1, 6).map(option => (\n                            <option key={`max-rating-option-${option}`} value={option}>\n                              {option} (Star{option > 1 ? 's' : ''})\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </nav>\n            </header>\n            <div className=\"flex-1 relative max-h-full\">\n              <div className=\"absolute inset-0\">\n                <div className=\"relative w-full h-full max-h-full overflow-x-hidden overflow-y-scroll\">\n                  <main className=\"p-6\">\n                    {filteredPlaces.length > 0 ? (\n                      <>\n                        {filteredPlaces.map(restaurant => (\n                          <Place\n                            key={restaurant.id}\n                            id={restaurant.id}\n                            name={restaurant.name}\n                            cover={restaurant.cover}\n                            types={restaurant.types}\n                            rating={restaurant.rating}\n                            ratings={restaurant.ratings}\n                            onClick={() => setPlaceId(restaurant.id)}\n                          />\n                        ))}\n                      </>\n                    ) : (\n                      <>\n                        <div className=\"flex items-center justify-center mb-6\">\n                          <Icon className=\"text-purple-400\" icon=\"sad-tear\" size=\"5x\" />\n                        </div>\n                        <div className=\"text-2xl font-bold text-gray-900 text-center\">\n                          No Results!\n                        </div>\n                        <div className=\"text-gray-700 text-center\">\n                          Sorry there are no results for this search. Please try again.\n                        </div>\n                      </>\n                    )}\n                  </main>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {showPlaceDetails && (\n          <Query query={getPlaceDetailsQuery}>\n            {({ loading, error, data, refetch }) => (\n              <>\n                {loading ? (\n                  <div className=\"absolute left-xl w-full max-w-lg h-screen bg-white z-10\">\n                    <Scrollable key={placeId}>\n                      <PlaceDetailsPlaceholder />\n                    </Scrollable>\n                  </div>\n                ) : (\n                  <>\n                    {error.length > 0 ? null : (\n                      <>\n                        <div className=\"absolute left-xl w-full max-w-lg h-screen bg-white z-10\">\n                          <Scrollable key={placeId}>\n                            <PlaceDetails\n                              place={data}\n                              handleDissmis={() => setPlaceId(null)}\n                              handleClickAddReview={() => setShowAddReview(true)}\n                            />\n                          </Scrollable>\n                        </div>\n\n                        {showAddReview && (\n                          <div className=\"absolute left-xl w-full max-w-lg h-screen z-20\">\n                            <div className=\"absolute inset-0 bg-black opacity-50 -z-1\" />\n\n                            <div className=\"p-6\">\n                              <AddReviewForm\n                                handleSubmit={(_, review) => {\n                                  addNewReview(review, data);\n                                  refetch();\n                                }}\n                                handleCancel={() => setShowAddReview(false)}\n                              />\n                            </div>\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </>\n                )}\n              </>\n            )}\n          </Query>\n        )}\n\n        {showAddRestaurant && (\n          <div className=\"absolute left-xl w-full max-w-lg h-screen z-20\">\n            <div className=\"absolute inset-0 bg-black opacity-50 -z-1\" />\n            <div className=\"p-6\">\n              <AddRestaurantForm\n                handleSubmit={(_, restaurant) => addNewRestaurant(restaurant)}\n                handleCancel={() => setShowAddRestaurant(false)}\n                location={locationClicked}\n              />\n            </div>\n          </div>\n        )}\n\n        <div className=\"flex-auto relative\">\n          <div ref={mapRef} className=\"absolute inset-0\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport './styles.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nlibrary.add(fas);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}