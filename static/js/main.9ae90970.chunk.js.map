{"version":3,"sources":["helpers.js","components/Scrollable.js","components/Query.js","components/Badge.js","components/RatingBadge.js","components/RestaurantTypeBadge.js","components/Place.js","components/Divider.js","components/Review.js","components/Venue.js","components/PlaceDetails.js","components/PlaceDetailsPlaceholder.js","components/AddRestaurantForm.js","components/AddReviewForm.js","App.js","serviceWorker.js","index.js"],"names":["range","start","end","Array","from","length","_","k","getDataURI","file","a","async","maxFileSize","Promise","resolve","reject","sizeInMb","size","toFixed","reader","FileReader","onload","result","onerror","onabort","readAsDataURL","window","alert","getCurrentPosition","navigator","geolocation","coords","latitude","longitude","google","maps","LatLng","enableHighAccuracy","timeout","maximumAge","getNearbyPlaces","service","location","nearbySearch","radius","type","fields","places","status","PlacesServiceStatus","OK","normalizePlaces","getPlaceDetails","placeId","Object","prototype","hasOwnProperty","call","getDetails","place","normalizePlace","place_id","name","photos","getUrl","types","rating","user_ratings_total","geometry","international_phone_number","opening_hours","isOpen","website","vicinity","formatted_address","reviews","url","id","cover","maxWidth","maxHeight","slice","map","replace","phoneNumber","gmap","address","ratings","sortReviews","normalizeReviews","reduce","accumulator","review","avatar","profile_photo_url","author","author_name","comment","text","time","date","Date","normalizeReview","sort","left","right","getTime","getFilteredPlaces","query","minRating","maxRating","values","filter","toLowerCase","includes","getSortedPlaces","noop","gmapEncodeURI","uri","encodeURIComponent","uniqid","Math","random","toString","cleanMarkers","markers","forEach","marker","setMap","debounce","func","timer","delay","debounced","args","clearTimeout","setTimeout","Scrollable","className","children","props","scrollableRef","React","useRef","useEffect","current","scrollTo","ref","Query","useState","loading","setLoading","error","setError","data","setData","fetch","useCallback","then","catch","finally","refetch","Badge","RatingBadge","RestaurantTypeBadge","PlaceTags","tags","tag","key","Place","handleClick","role","tabIndex","onKeyDown","e","persist","onClick","alt","src","charAt","Divider","Review","dir","Map","title","width","height","frameBorder","process","allowFullScreen","Info","InfoItem","icon","action","Venue","isOpenNow","rel","href","target","indexOf","join","PlaceDetails","handleDissmis","handleClickAddReview","index","toUTCString","ReviewPlaceholder","VenuePlaceholder","PlaceDetailsPlaceholder","initialState","lat","lng","AddRestaurantForm","handleSubmit","handleCancel","useReducer","state","payload","dispatch","handleEscape","addEventListener","removeEventListener","onSubmit","color","accept","placeholder","onChange","files","required","value","avatars","getRandomAvatar","floor","AddReviewForm","checked","rows","App","setQuery","centerPosition","setCenterPosition","userPosition","setUserPosition","setPlaces","setPlaceId","setService","setMinRating","setMaxRating","showAddReview","setShowAddReview","showAddRestaurant","setShowAddRestaurant","locationClicked","setLocationClicked","showPlaceDetails","mapRef","getPlaceDetailsQuery","gMap","center","zoom","fullscreenControl","mapTypeControl","gestureHandling","gService","PlacesService","addListener","latLng","toJSON","getCenter","position","Marker","scaledSize","labelOrigin","x","y","label","setCenter","fontFamily","fontWeight","fontSize","filteredPlaces","useMemo","handleKeyboardNavigationPlaces","preventDefault","next","nextSibling","previous","previousSibling","focus","htmlFor","option","restaurant","setLabel","addNewReview","Boolean","hostname","match","library","add","fas","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9ae90970.chunk.js","sourcesContent":["/**\n * range\n * @param {Number} start\n * @param {Number} end\n * @return {Number[]}\n */\nexport const range = (start, end) => Array.from({ length: end - start }, (_, k) => k + start);\n\n/**\n * getDataURI\n * @param {File} file\n * @param {?Number} maxFileSize the max file size in mb by default is 2.\n */\nexport const getDataURI = async (file, maxFileSize = 2) =>\n  new Promise((resolve, reject) => {\n    const sizeInMb = (file.size / 1e6).toFixed(3);\n\n    if (sizeInMb < maxFileSize) {\n      const reader = new FileReader();\n\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = () => reject();\n      reader.onabort = () => reject();\n\n      reader.readAsDataURL(file);\n    } else {\n      window.alert(\n        `Your file has ${sizeInMb}mb. The max is ${maxFileSize}mb. Please try again with another file.`\n      );\n\n      reject();\n    }\n  });\n\n/**\n * getCurrentPosition\n * @return {Promise}\n */\nexport const getCurrentPosition = async () =>\n  new Promise((resolve, reject) => {\n    if ('geolocation' in window.navigator) {\n      window.navigator.geolocation.getCurrentPosition(\n        ({ coords: { latitude, longitude } }) => {\n          resolve(new window.google.maps.LatLng(latitude, longitude));\n        },\n        () => reject(),\n        {\n          enableHighAccuracy: true,\n          timeout: 5000,\n          maximumAge: 0,\n        }\n      );\n    } else {\n      reject();\n    }\n  });\n\n/**\n * getNearbyPlaces\n * @param {google.maps.places.PlacesService} service instance of PlacesService (https://developers.google.com/maps/documentation/javascript/reference/places-service)\n * @param {google.maps.LatLng} location instance of LatLng (https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLng)\n * @return {Promise}\n */\nexport const getNearbyPlaces = async (service, location) =>\n  new Promise((resolve, reject) => {\n    service.nearbySearch(\n      { location, radius: 500, type: ['restaurant'], fields: ['formatted_address'] },\n      (places, status) => {\n        switch (status) {\n          case window.google.maps.places.PlacesServiceStatus.OK:\n            resolve(normalizePlaces(places));\n            break;\n          default:\n            resolve({});\n            break;\n        }\n      },\n      () => reject()\n    );\n  });\n\n/**\n * getPlaceDetails\n * @param {google.maps.places.PlacesService} service instance of PlacesService (https://developers.google.com/maps/documentation/javascript/reference/places-service)\n * @param {String} placeId\n * @return {Promise}\n */\nexport const getPlaceDetails = async (service, placeId) =>\n  new Promise((resolve, reject) => {\n    if (Object.prototype.hasOwnProperty.call(window.places, placeId)) {\n      resolve(window.places[placeId]);\n    } else {\n      service.getDetails(\n        {\n          placeId,\n          fields: [\n            'place_id',\n            'name',\n            'type',\n            'reviews',\n            'user_ratings_total',\n            'formatted_address',\n            'photos',\n            'international_phone_number',\n            'url',\n            'rating',\n            'geometry',\n            'vicinity',\n            'website',\n          ],\n        },\n        (place, status) => {\n          if (status === window.google.maps.places.PlacesServiceStatus.OK) {\n            window.places[placeId] = normalizePlace(place);\n\n            resolve(window.places[placeId]);\n          } else {\n            reject();\n          }\n        }\n      );\n    }\n  });\n\n/**\n * normalizePlace\n * @param {Object} RawPlaceObject\n * @return {Object}\n */\nexport const normalizePlace = ({\n  place_id = '',\n  name = '',\n  photos = [{ getUrl: () => null }],\n  types = [],\n  rating = 0,\n  user_ratings_total = 0,\n  geometry: { location },\n  international_phone_number = '',\n  opening_hours: { isOpen = () => true } = {},\n  website = '',\n  vicinity = '',\n  formatted_address = '',\n  reviews = [],\n  url = '',\n}) => ({\n  id: place_id,\n  cover: photos[0].getUrl({ maxWidth: 570, maxHeight: 260 }),\n  types: types.slice(-8).map(type => type.replace(/_/g, ' ')),\n  phoneNumber: international_phone_number,\n  gmap: url,\n  address: formatted_address || vicinity,\n  ratings: user_ratings_total,\n  reviews: sortReviews(normalizeReviews(reviews)),\n  rating,\n  isOpen,\n  website,\n  name,\n  location,\n});\n\n/**\n * normalizePlaces\n * @param {Object[]} places\n * @return {Object<string, Object>}\n */\nexport const normalizePlaces = places =>\n  places.reduce((accumulator, place) => {\n    accumulator[place.place_id] = normalizePlace(place);\n\n    return accumulator;\n  }, {});\n\n/**\n * normalizeReview\n * @param {Object} RawReviewObject\n * @return {Object}\n */\nexport const normalizeReview = ({\n  profile_photo_url: avatar,\n  author_name: author,\n  text: comment,\n  time,\n}) => ({\n  date: new Date(time * 1000),\n  avatar,\n  author,\n  comment,\n});\n\n/**\n * normalizeReviews\n * @param {Object[]} reviews\n * @return {Object[]}\n */\nexport const normalizeReviews = reviews => reviews.map(review => normalizeReview(review));\n\n/**\n * sortReviews\n * @param {Object[]} reviews\n * @return {Object[]}\n */\nexport const sortReviews = reviews =>\n  reviews.sort((left, right) => right.date.getTime() - left.date.getTime());\n\n/**\n * getFilteredPlaces\n * @param {Object<string, Object>} places\n * @param {String} query\n * @param {Number} minRating\n * @param {Number} maxRating\n * @return {Object[]}\n */\nexport const getFilteredPlaces = (places, query, minRating, maxRating) =>\n  Object.values(places).filter(\n    ({ name, rating }) =>\n      name.toLowerCase().includes(query.toLowerCase()) && rating >= minRating && rating <= maxRating\n  );\n\n/**\n * getSortedPlaces\n * @param {Object[]} places\n * @return {Object[]}\n */\nexport const getSortedPlaces = places => places.sort((left, right) => right.rating - left.rating);\n\nexport const noop = () => {};\n\n/**\n * gmapEncodeURI\n * @param {String} uri\n * @return {String}\n */\nexport const gmapEncodeURI = uri => window.encodeURIComponent(uri);\n\n/**\n * uniqid\n * @return {String} return a random string\n */\nexport const uniqid = () => (new Date().getTime() * Math.random()).toString(32).replace('.', '');\n\n/**\n * cleanMarkers\n */\nexport const cleanMarkers = () =>\n  Object.values(window.markers).forEach(marker => marker.setMap(null));\n\nexport const debounce = (func, delay = 150) => {\n  let timer;\n\n  const debounced = (...args) => {\n    window.clearTimeout(timer);\n\n    timer = window.setTimeout(() => func(...args), delay);\n  };\n\n  return debounced;\n};\n","import React from 'react';\n\nfunction Scrollable({ className = '', children, ...props }) {\n  const scrollableRef = React.useRef(null);\n\n  React.useEffect(() => scrollableRef.current.scrollTo(0, 0), []);\n\n  return (\n    <div\n      ref={scrollableRef}\n      className={`relative w-full h-full max-h-full overflow-x-hidden overflow-y-scroll ${className}`}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Scrollable;\n","import React from 'react';\n\n/**\n * useQuery\n * @param {{query: Promise}}\n */\nfunction Query({ query, children }) {\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState('');\n  const [data, setData] = React.useState(null);\n\n  const fetch = React.useCallback(() => {\n    query()\n      .then(result => setData(result))\n      .catch(result => setError(result))\n      .finally(() => setLoading(false));\n  }, [query]);\n\n  React.useEffect(() => fetch(), [fetch]);\n\n  return <>{children({ loading, error, data, refetch: fetch })}</>;\n}\n\nexport default Query;\n","import React from 'react';\n\nfunction Badge({ className, children, ...props }) {\n  return (\n    <span\n      className={`inline-block text-xs capitalize tracking-wide font-semibold px-2 rounded-lg ${className}`}\n      {...props}\n    >\n      {children}\n    </span>\n  );\n}\n\nexport default Badge;\n","import React from 'react';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport Badge from './Badge';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nfunction RatingBadge({ className, children, ...props }) {\n  return (\n    <Badge className={`bg-blue-200 text-blue-800 ${className}`} {...props}>\n      {children}\n    </Badge>\n  );\n}\n\nexport default RatingBadge;\n","import React from 'react';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport Badge from './Badge';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nfunction RestaurantTypeBadge({ className, children, ...props }) {\n  return (\n    <Badge className={`bg-purple-200 text-purple-800 ${className}`} {...props}>\n      {children}\n    </Badge>\n  );\n}\n\nexport default RestaurantTypeBadge;\n","import React from 'react';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport RatingBadge from './RatingBadge';\nimport RestaurantTypeBadge from './RestaurantTypeBadge';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nfunction PlaceTags({ tags }) {\n  return (\n    <div>\n      {tags.map(tag => (\n        <RestaurantTypeBadge key={`place-tag-${tag}`} className=\"mr-2\">\n          {tag}\n        </RestaurantTypeBadge>\n      ))}\n    </div>\n  );\n}\n\nfunction Place({\n  name = '',\n  cover = '',\n  rating = 0,\n  ratings = 0,\n  types = [],\n  handleClick = () => {},\n  ...props\n}) {\n  return (\n    <div\n      role=\"button\"\n      tabIndex=\"0\"\n      className=\"flex p-3 -mx-3 my-2 rounded hover:shadow-md focus:shadow-md\"\n      onKeyDown={e => {\n        e.persist();\n\n        if (e.key === ' ' || e.key === 'Enter' || e.key === 'Spacebar') {\n          handleClick(e);\n        }\n      }}\n      onClick={e => {\n        e.persist();\n\n        handleClick(e);\n      }}\n      {...props}\n    >\n      <div className=\"w-32 min-w-32 h-32\">\n        {cover ? (\n          <img alt=\"cover\" className=\"w-32 h-32 object-cover bg-gray-200 rounded\" src={cover} />\n        ) : (\n          <div className=\"flex items-center justify-center w-32 h-32 bg-gray-200 rounded\">\n            <span className=\"uppercase text-lg font-bold\">{name.charAt(0)}</span>\n          </div>\n        )}\n      </div>\n      <div className=\"flex flex-col items-start flex-1 pl-4\">\n        <div className=\"flex items-start mb-2\">\n          <RatingBadge className=\"mr-2\">{rating > 0 ? rating.toFixed(1) : 'New'}</RatingBadge>\n          <span className=\"inline-block text-lg font-bold leading-none text-gray-900\">{name}</span>\n        </div>\n        <PlaceTags tags={types} />\n        <div className=\"text-xs font-bold text-gray-600 mt-auto\">\n          {ratings > 0 ? `${ratings} ratings` : 'Without ratings'}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Place;\n","import React from 'react';\n\nfunction Divider({ className }) {\n  return <div className={`h-px my-8 bg-gray-300 ${className}`} />;\n}\n\nexport default Divider;\n","import React from 'react';\n\nfunction Review({ avatar, author, date, comment }) {\n  return (\n    <div className=\"mb-8\">\n      <div className=\"flex items-center\">\n        <div className=\"w-12 h-12\">\n          <img className=\"w-12 h-12 object-fit\" alt={author} src={avatar} />\n        </div>\n        <div className=\"ml-2\">\n          <div className=\"text-sm leading-snug font-bold text-gray-900\">{author}</div>\n          <div className=\"text-sm leading-snug text-gray-600\">{date}</div>\n        </div>\n      </div>\n      <div className=\"my-4\">\n        <div dir=\"ltr\" className=\"text-base text-gray-900\">\n          {comment}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Review;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\nimport { gmapEncodeURI } from '../helpers';\n\nfunction Map({ name }) {\n  const query = gmapEncodeURI(name);\n\n  return (\n    <div className=\"w-full h-64 bg-gray-200 rounded\">\n      <iframe\n        title=\"Map\"\n        width=\"100%\"\n        height=\"256\"\n        frameBorder=\"0\"\n        className=\"h-full h-64 b-0\"\n        src={`https://www.google.com/maps/embed/v1/place?key=${process.env.REACT_APP_GMAPS_API_KEY}&q=${query}`}\n        allowFullScreen\n      />\n    </div>\n  );\n}\n\nfunction Info({ children }) {\n  return (\n    <table className=\"table-fixed w-full mt-6\">\n      <tbody>{children}</tbody>\n    </table>\n  );\n}\n\nfunction InfoItem({ icon, action, children }) {\n  return (\n    <tr>\n      <td className=\"w-6 pr-2 py-2 align-top\">\n        <Icon icon={icon} />\n      </td>\n      <td className=\"w-6/12 py-2 align-top\">{children}</td>\n      <td className=\"w-6/12 py-2 text-right align-top\">{action || <>&nbsp;</>}</td>\n    </tr>\n  );\n}\n\nfunction Venue({ name, address, gmap, phoneNumber, website, isOpenNow, types }) {\n  return (\n    <div className=\"w-full\">\n      <Map name={name} />\n\n      <Info>\n        <InfoItem\n          icon=\"map-marker\"\n          action={\n            gmap ? (\n              <a\n                rel=\"noopener noreferrer\"\n                className=\"text-sm text-indigo-600 no-underline hover:underline\"\n                href={gmap}\n                target=\"_blank\"\n              >\n                Get directions\n              </a>\n            ) : null\n          }\n        >\n          <span className=\"text-sm text-gray-900\">{address}</span>\n        </InfoItem>\n\n        {phoneNumber.length > 0 && (\n          <InfoItem\n            icon=\"phone-alt\"\n            action={\n              <a\n                rel=\"noopener noreferrer\"\n                className=\"text-sm text-indigo-600 no-underline hover:underline\"\n                href={`tel:${phoneNumber.replace(/ /g, '')}`}\n                target=\"_blank\"\n              >\n                Call\n              </a>\n            }\n          >\n            <span className=\"text-sm text-gray-900\">{phoneNumber}</span>\n          </InfoItem>\n        )}\n\n        {website.length > 0 && (\n          <InfoItem icon=\"globe\">\n            <a\n              rel=\"noopener noreferrer\"\n              className=\"text-sm text-indigo-600 break-all no-underline hover:underline\"\n              href={website}\n              target=\"_blank\"\n            >\n              {website.indexOf('facebook') > -1 ? 'facebook.com' : website}\n            </a>\n          </InfoItem>\n        )}\n\n        <InfoItem icon=\"clock\">\n          <span className=\"text-sm text-gray-900\">{`${isOpenNow ? 'Open' : 'Closed now'}`}</span>\n        </InfoItem>\n\n        <InfoItem icon=\"utensils\">\n          <span className=\"text-sm capitalize text-gray-900\">{types.join(', ')}</span>\n        </InfoItem>\n      </Info>\n    </div>\n  );\n}\n\nexport default Venue;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport Divider from './Divider';\nimport Review from './Review';\nimport Venue from './Venue';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nfunction PlaceDetails({ place = null, handleDissmis = () => {}, handleClickAddReview = () => {} }) {\n  return (\n    <div className=\"w-full\">\n      <header>\n        <nav className=\"flex items-center absolute top-0 right-0 p-6\">\n          <div\n            className=\"flex items-center justify-center w-12 h-12 bg-white rounded-full shadow-md cursor-pointer select-none\"\n            role=\"button\"\n            tabIndex=\"0\"\n            onKeyDown={e => {\n              e.persist();\n\n              if (e.key === ' ' || e.key === 'Enter' || e.key === 'Spacebar') {\n                handleDissmis(e);\n              }\n            }}\n            onClick={e => {\n              e.persist();\n\n              handleDissmis(e);\n            }}\n          >\n            <Icon className=\"text-gray-900\" icon=\"times\" />\n          </div>\n        </nav>\n\n        <div className=\"mb-8\">\n          {place.cover ? (\n            <img className=\"w-full h-64 object-cover bg-gray-200\" alt=\"cover\" src={place.cover} />\n          ) : (\n            <div className=\"w-full h-64 object-cover bg-gray-200\" />\n          )}\n        </div>\n        <div className=\"px-6\">\n          <div className=\"m-0\">\n            <span className=\"text-xs uppercase font-bold text-gray-600\">Restaurant</span>\n          </div>\n          <div className=\"mt-2\">\n            <div className=\"text-4xl font-bold leading-none text-gray-900 my-2\">{place.name}</div>\n            <div className=\"mt-2\">\n              <span className=\"text-sm\">{place.ratings} ratings</span>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"mb-6\">\n        <Divider className=\"mx-6\" />\n\n        <section>\n          <div className=\"mx-6\">\n            <Venue\n              name={place.name}\n              address={place.address}\n              phoneNumber={place.phoneNumber}\n              types={place.types}\n              gmap={place.gmap}\n              website={place.website}\n              isOpenNow={place.isOpen()}\n            />\n          </div>\n        </section>\n\n        <Divider className=\"mx-6\" />\n\n        <section>\n          <div className=\"mx-6\">\n            <header className=\"mb-6\">\n              <span className=\"text-2xl font-bold\">Reviews</span>\n            </header>\n\n            {place.reviews.length > 0 ? (\n              <>\n                {place.reviews.map((review, index) => (\n                  <Review\n                    key={`review-${index}`}\n                    avatar={review.avatar}\n                    author={review.author}\n                    date={review.date.toUTCString()}\n                    comment={review.comment}\n                  />\n                ))}\n              </>\n            ) : (\n              <>\n                <div className=\"mb-4\">\n                  <div className=\"text-2xl font-bold text-center\">No Reviews, yet.</div>\n                  <div className=\"text-center\">\n                    No reviews yet in this restaurant! Start adding a new review.\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </section>\n\n        <section>\n          <div className=\"mx-6\">\n            <button\n              className=\"w-full py-4 text-sm font-semibold leading-none text-white uppercase tracking-wider bg-indigo-600 rounded-lg\"\n              onClick={e => {\n                e.persist();\n\n                handleClickAddReview(e);\n              }}\n            >\n              Add Review\n            </button>\n          </div>\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default PlaceDetails;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport Divider from './Divider';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nfunction ReviewPlaceholder() {\n  return (\n    <div className=\"mb-8\">\n      <div className=\"flex items-center\">\n        <div className=\"w-12 h-12\">\n          <div className=\"w-12 h-12 bg-gray-200 rounded-full\" />\n        </div>\n        <div className=\"ml-2\">\n          <div className=\"text-sm leading-snug font-bold w-20 bg-gray-400\">&nbsp;</div>\n          <div className=\"text-sm leading-snug w-48 bg-gray-400\">&nbsp;</div>\n        </div>\n      </div>\n      <div className=\"my-4\">\n        <div dir=\"ltr\" className=\"text-base w-full h-20 bg-gray-400\">\n          &nbsp;\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Info({ children }) {\n  return (\n    <table className=\"w-full mt-6\">\n      <tbody>{children}</tbody>\n    </table>\n  );\n}\n\nfunction InfoItem({ icon, action, children }) {\n  return (\n    <tr>\n      <td className=\"w-6 pr-2 py-2 align-top\">\n        <Icon icon={icon} />\n      </td>\n      <td className=\"w-6/12 py-2 align-top\">{children}</td>\n      <td className=\"py-2 text-right align-top\">{action}</td>\n    </tr>\n  );\n}\n\nfunction VenuePlaceholder() {\n  return (\n    <div className=\"w-full\">\n      <div className=\"w-full h-64 bg-gray-200 rounded\" />\n\n      <Info>\n        <InfoItem\n          icon=\"map-marker\"\n          action={<div className=\"text-sm inline-block w-24 bg-gray-400\">&nbsp;</div>}\n        >\n          <div className=\"text-sm w-full h-20 bg-gray-400\">&nbsp;</div>\n        </InfoItem>\n\n        <InfoItem\n          icon=\"phone-alt\"\n          action={<div className=\"text-sm inline-block w-16 bg-gray-400\">&nbsp;</div>}\n        >\n          <div className=\"text-sm w-40 bg-gray-400\">&nbsp;</div>\n        </InfoItem>\n\n        <InfoItem icon=\"globe\">\n          <div className=\"text-sm w-24 bg-gray-400\">&nbsp;</div>\n        </InfoItem>\n\n        <InfoItem icon=\"clock\">\n          <div className=\"text-sm w-24 bg-gray-400\">&nbsp;</div>\n        </InfoItem>\n\n        <InfoItem icon=\"utensils\">\n          <div className=\"text-sm capitalize w-24 bg-gray-400\">&nbsp;</div>\n        </InfoItem>\n      </Info>\n    </div>\n  );\n}\n\nfunction PlaceDetailsPlaceholder() {\n  return (\n    <div className=\"w-full\">\n      <header>\n        <nav className=\"flex items-center absolute top-0 right-0 p-6\">\n          <div\n            className=\"flex items-center justify-center w-12 h-12 bg-white rounded-full shadow-md cursor-pointer select-none\"\n            role=\"button\"\n            tabIndex=\"0\"\n          >\n            <Icon className=\"text-gray-900\" icon=\"times\" />\n          </div>\n        </nav>\n\n        <div className=\"mb-8\">\n          <div className=\"w-full h-64 bg-gray-100\" />\n        </div>\n        <div className=\"px-6\">\n          <div className=\"m-0\">\n            <div className=\"text-xs uppercase font-bold w-24 bg-gray-400\">&nbsp;</div>\n          </div>\n          <div className=\"mt-2\">\n            <div className=\"text-4xl font-bold leading-none my-2 w-full bg-gray-400\">&nbsp;</div>\n            <div className=\"mt-2\">\n              <div className=\"text-sm w-20 bg-gray-400\">&nbsp;</div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"mb-6\">\n        <Divider className=\"mx-6\" />\n\n        <section>\n          <div className=\"mx-6\">\n            <VenuePlaceholder />\n          </div>\n        </section>\n\n        <Divider className=\"mx-6\" />\n\n        <section>\n          <div className=\"mx-6\">\n            <header className=\"mb-6\">\n              <div className=\"text-2xl font-bold w-32 bg-gray-400\">&nbsp;</div>\n            </header>\n\n            <ReviewPlaceholder />\n          </div>\n        </section>\n\n        <section>\n          <div className=\"mx-6\">\n            <button className=\"w-full py-4 text-sm font-semibold leading-none text-white uppercase tracking-wider bg-indigo-600 rounded-lg\">\n              &nbsp;\n            </button>\n          </div>\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default PlaceDetailsPlaceholder;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\nimport { getDataURI, uniqid, noop } from '../helpers';\n\nconst initialState = {\n  name: '',\n  cover: '',\n  location: { lat: '', lng: '' },\n  phoneNumber: '',\n  website: '',\n  address: '',\n  // static values\n  gmap: null,\n  isOpen: () => true,\n  rating: 0,\n  ratings: 0,\n  reviews: [],\n  types: ['restaurant'],\n};\n\nfunction AddRestaurantForm({ location, handleSubmit, handleCancel }) {\n  const [state, dispatch] = React.useReducer((state, action) => {\n    switch (action.type) {\n      case 'RESET': {\n        return initialState;\n      }\n      case 'SET_COVER': {\n        return { ...state, cover: action.payload };\n      }\n      case 'SET_NAME': {\n        return { ...state, name: action.payload };\n      }\n      case 'SET_PHONE_NUMBER': {\n        return { ...state, phoneNumber: action.payload };\n      }\n      case 'SET_WEBSITE': {\n        return { ...state, website: action.payload };\n      }\n      case 'SET_ADDRESS': {\n        return { ...state, address: action.payload };\n      }\n      case 'SET_LOCATION': {\n        return { ...state, location: action.payload };\n      }\n      case 'SET_LOCATION_LATITUDE': {\n        return { ...state, location: { ...state.location, lat: action.payload } };\n      }\n      case 'SET_LOCATION_LONGITUDE': {\n        return { ...state, location: { ...state.location, lng: action.payload } };\n      }\n      default: {\n        return state;\n      }\n    }\n  }, initialState);\n\n  React.useEffect(() => {\n    dispatch({ type: 'SET_LOCATION', payload: location });\n  }, [location]);\n\n  const handleEscape = React.useCallback(e => e.key === 'Escape' && handleCancel(e), [\n    handleCancel,\n  ]);\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEscape);\n\n    return () => {\n      window.removeEventListener('keydown', handleEscape);\n    };\n  }, [handleEscape]);\n\n  return (\n    <div className=\"bg-white rounded-lg overflow-hidden\">\n      <form\n        onSubmit={e => {\n          e.persist();\n\n          const data = { ...state, id: uniqid() };\n\n          handleSubmit(e, data);\n        }}\n      >\n        <div className=\"relative bg-indigo-400 h-64\">\n          <label className=\"absolute inset-0\">\n            {state.cover ? (\n              <img className=\"w-full h-full object-fit\" alt={state.name} src={state.cover} />\n            ) : (\n              <div className=\"flex flex-col items-center justify-center relative w-full h-full\">\n                <Icon icon=\"image\" color=\"#fff\" size=\"8x\" />\n                <div className=\"inline-block px-4 py-1 text-xs font-semibold text-indigo-800 bg-indigo-200 rounded-lg\">\n                  Add a preview image\n                </div>\n                <input\n                  className=\"absolute inset-0 opacity-0 cursor-pointer z-10\"\n                  type=\"file\"\n                  name=\"cover\"\n                  accept=\"image/png, image/jpeg\"\n                  placeholder=\"Cover\"\n                  onChange={e => {\n                    getDataURI(e.target.files[0])\n                      .then(result => dispatch({ type: 'SET_COVER', payload: result }))\n                      .catch(noop);\n                  }}\n                  required\n                />\n              </div>\n            )}\n          </label>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Name</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"What is the name of the restaurant?\"\n              value={state.name}\n              onChange={e => {\n                dispatch({ type: 'SET_NAME', payload: e.target.value });\n              }}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Location</div>\n          <div className=\"flex mt-1\">\n            <div className=\"w-6/12\">\n              <input\n                className=\"w-full py-1\"\n                type=\"text\"\n                placeholder=\"Latitude\"\n                value={state.location.lat}\n                onChange={e => {\n                  dispatch({ type: 'SET_LOCATION_LATITUDE', payload: e.target.value });\n                }}\n                required\n              />\n            </div>\n            <div className=\"w-6/12\">\n              <input\n                className=\"w-full py-1\"\n                type=\"text\"\n                placeholder=\"Longitude\"\n                value={state.location.lng}\n                onChange={e => {\n                  dispatch({ type: 'SET_LOCATION_LONGITUDE', payload: e.target.value });\n                }}\n                required\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Phone Number</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Phone Number\"\n              value={state.phoneNumber}\n              onChange={e => {\n                dispatch({ type: 'SET_PHONE_NUMBER', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Website</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Website\"\n              value={state.website}\n              onChange={e => {\n                dispatch({ type: 'SET_WEBSITE', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2\">\n          <div className=\"text-xs leading-none\">Address</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Entrer the address of the restaurant\"\n              value={state.address}\n              onChange={e => {\n                dispatch({ type: 'SET_ADDRESS', payload: e.target.value });\n              }}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"p-4 bg-gray-100\">\n          <div className=\"flex justify-end\">\n            <button\n              className=\"px-4 py-2 text-sm font-semibold text-indigo-600 rounded\"\n              type=\"button\"\n              onClick={e => {\n                e.persist();\n\n                dispatch({ type: 'RESET' });\n                handleCancel(e);\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              className=\"px-4 py-2 ml-2 text-sm font-semibold text-white bg-indigo-600 rounded\"\n              type=\"submit\"\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddRestaurantForm;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\nconst avatars = [\n  'https://lh6.ggpht.com/-jaAm1eO765Q/AAAAAAAAAAI/AAAAAAAAAAA/HfmyBFH1UZs/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh4.ggpht.com/-Cu-MPkJG_4Y/AAAAAAAAAAI/AAAAAAAAAAA/DX_BrEbhVuQ/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh5.ggpht.com/-hgFk-liXn3A/AAAAAAAAAAI/AAAAAAAAAAA/A16JG3gJSpU/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh5.ggpht.com/-HsotJk0cfrw/AAAAAAAAAAI/AAAAAAAAAAA/z3atZ66qn0A/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-KmajRHZh-sw/AAAAAAAAAAI/AAAAAAAAAAA/MCXjoNGSZO0/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh4.ggpht.com/-rImN8nsM2fY/AAAAAAAAAAI/AAAAAAAAAAA/iL9CadC9kXw/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh5.ggpht.com/-xeAcqbCc1fs/AAAAAAAAAAI/AAAAAAAAAAA/g9V9J9JSvos/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-sSicK12N2DM/AAAAAAAAAAI/AAAAAAAAAAA/vXSAqNet4Ag/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-iy8gIz3zJYY/AAAAAAAAAAI/AAAAAAAAAAA/zzUjb0ENeaw/s128-c0x00000000-cc-rp-mo/photo.jpg',\n  'https://lh3.ggpht.com/-hReL3evr7Wg/AAAAAAAAAAI/AAAAAAAAAAA/fjuD5e2zxv8/s128-c0x00000000-cc-rp-mo/photo.jpg',\n];\nconst initialState = {\n  avatar: '',\n  rating: 1,\n  author: '',\n  comment: '',\n};\n\nconst getRandomAvatar = avatars => avatars[Math.floor(Math.random() * (avatars.length - 1))];\n\nfunction AddReviewForm({ handleSubmit, handleCancel }) {\n  const [state, dispatch] = React.useReducer((state, action) => {\n    switch (action.type) {\n      case 'SET_RATING': {\n        return { ...state, rating: action.payload };\n      }\n      case 'SET_AUTHOR': {\n        return { ...state, author: action.payload };\n      }\n      case 'SET_COMMENT': {\n        return { ...state, comment: action.payload };\n      }\n      case 'RESET': {\n        return initialState;\n      }\n      default: {\n        return state;\n      }\n    }\n  }, initialState);\n\n  const handleEscape = React.useCallback(e => e.key === 'Escape' && handleCancel(e), [\n    handleCancel,\n  ]);\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEscape);\n\n    return () => {\n      window.removeEventListener('keydown', handleEscape);\n    };\n  }, [handleEscape]);\n\n  return (\n    <div className=\"bg-white rounded-lg overflow-hidden\">\n      <form\n        onSubmit={e => {\n          e.persist();\n\n          const data = { ...state, avatar: getRandomAvatar(avatars), date: new Date() };\n\n          handleSubmit(e, data);\n        }}\n      >\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Rating</div>\n          <div className=\"mt-1\">\n            <div className=\"flex justify-around py-1\">\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 1 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"angry\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"1\"\n                  checked={state.rating === 1}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 2 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"frown\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"2\"\n                  checked={state.rating === 2}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 3 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"meh\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"3\"\n                  checked={state.rating === 3}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 4 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"smile\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"4\"\n                  checked={state.rating === 4}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n              <label role=\"button\" tabIndex=\"0\" className=\"cursor-pointer\">\n                <Icon\n                  className={state.rating === 5 ? 'text-gray-900' : 'text-gray-600'}\n                  icon=\"laugh\"\n                  size=\"3x\"\n                />\n                <input\n                  className=\"hidden\"\n                  type=\"radio\"\n                  name=\"rating\"\n                  value=\"5\"\n                  checked={state.rating === 5}\n                  onChange={e => {\n                    dispatch({ type: 'SET_RATING', payload: +e.target.value });\n                  }}\n                />\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2 border-b\">\n          <div className=\"text-xs leading-none\">Name</div>\n          <div className=\"mt-1\">\n            <input\n              className=\"w-full py-1\"\n              type=\"text\"\n              placeholder=\"Enter your name\"\n              value={state.author}\n              onChange={e => {\n                dispatch({ type: 'SET_AUTHOR', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"px-4 pt-4 pb-2\">\n          <div className=\"text-xs leading-none\">Comment</div>\n          <div className=\"mt-1\">\n            <textarea\n              className=\"w-full py-1\"\n              type=\"text\"\n              rows=\"4\"\n              placeholder=\"Write a comment about your experience\"\n              value={state.comment}\n              onChange={e => {\n                dispatch({ type: 'SET_COMMENT', payload: e.target.value });\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"p-4 bg-gray-100\">\n          <div className=\"flex justify-end\">\n            <button\n              className=\"px-4 py-2 text-sm font-semibold text-indigo-600 rounded\"\n              type=\"button\"\n              onClick={e => {\n                e.persist();\n\n                dispatch({ type: 'RESET' });\n                handleCancel(e);\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              className=\"px-4 py-2 ml-2 text-sm font-semibold text-white bg-indigo-600 rounded\"\n              type=\"submit\"\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddReviewForm;\n","import React from 'react';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport {\n  getCurrentPosition,\n  getNearbyPlaces,\n  getPlaceDetails,\n  getFilteredPlaces,\n  getSortedPlaces,\n  cleanMarkers,\n  range,\n  debounce,\n  noop,\n} from './helpers';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nimport Scrollable from './components/Scrollable';\nimport Query from './components/Query';\nimport Place from './components/Place';\nimport PlaceDetails from './components/PlaceDetails';\nimport PlaceDetailsPlaceholder from './components/PlaceDetailsPlaceholder';\nimport AddRestaurantForm from './components/AddRestaurantForm';\nimport AddReviewForm from './components/AddReviewForm';\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nwindow.places = {};\nwindow.markers = {};\n\nfunction App() {\n  const [query, setQuery] = React.useState('');\n  const [centerPosition, setCenterPosition] = React.useState(new window.google.maps.LatLng(0, 0));\n  const [userPosition, setUserPosition] = React.useState(null);\n  const [places, setPlaces] = React.useState({});\n  const [placeId, setPlaceId] = React.useState(null);\n  const [map, setMap] = React.useState(null);\n  const [service, setService] = React.useState(null);\n  const [minRating, setMinRating] = React.useState(0);\n  const [maxRating, setMaxRating] = React.useState(5);\n  const [showAddReview, setShowAddReview] = React.useState(false);\n  const [showAddRestaurant, setShowAddRestaurant] = React.useState(false);\n  const [locationClicked, setLocationClicked] = React.useState({ lat: 0, lng: 0 });\n  const showPlaceDetails = !!placeId;\n  const mapRef = React.useRef();\n\n  const getPlaceDetailsQuery = React.useCallback(() => getPlaceDetails(service, placeId), [\n    service,\n    placeId,\n  ]);\n\n  React.useEffect(() => {\n    const gMap = new window.google.maps.Map(mapRef.current, {\n      center: new window.google.maps.LatLng(0, 0),\n      zoom: 16,\n      fullscreenControl: false,\n      mapTypeControl: false,\n      gestureHandling: 'cooperative',\n    });\n    const gService = new window.google.maps.places.PlacesService(gMap);\n\n    gMap.addListener('click', e => {\n      setLocationClicked(e.latLng.toJSON());\n      setShowAddRestaurant(true);\n    });\n\n    gMap.addListener(\n      'bounds_changed',\n      debounce(() => setCenterPosition(gMap.getCenter()))\n    );\n\n    setMap(gMap);\n    setService(gService);\n  }, []);\n\n  React.useEffect(() => {\n    getCurrentPosition()\n      .then(position => setUserPosition(position))\n      .catch(noop);\n  }, []);\n\n  React.useEffect(() => {\n    if (!map || !userPosition) return;\n\n    new window.google.maps.Marker({\n      map,\n      position: userPosition,\n      icon: {\n        url: 'images/marker.png',\n        scaledSize: { width: 32, height: 48 },\n        labelOrigin: { x: 16, y: 18 },\n      },\n      label: '',\n    });\n\n    setCenterPosition(userPosition);\n  }, [map, userPosition]);\n\n  React.useEffect(() => {\n    if (!map) return;\n\n    map.setCenter(centerPosition);\n  }, [map, centerPosition]);\n\n  React.useEffect(() => {\n    if (!service) return;\n\n    getNearbyPlaces(service, centerPosition)\n      .then(result => setPlaces(result))\n      .catch(noop);\n  }, [service, centerPosition]);\n\n  React.useEffect(() => {\n    if (!placeId) return;\n\n    if (!Object.prototype.hasOwnProperty.call(places, placeId)) {\n      setPlaceId(null);\n    }\n  }, [places, placeId]);\n\n  React.useEffect(() => {\n    if (!map) return;\n\n    cleanMarkers();\n\n    const markers = Object.values(places).reduce(\n      (accumulator, { location: position, id, rating }) => {\n        const marker = new window.google.maps.Marker({\n          map,\n          position,\n          icon: {\n            url: 'images/marker.png',\n            scaledSize: { width: 32, height: 48 },\n            labelOrigin: { x: 16, y: 18 },\n          },\n          label: {\n            fontFamily: '\"Montserrat\", sans-serif',\n            fontWeight: '600',\n            fontSize: '12px',\n            color: '#fff',\n            text: rating > 0 ? rating.toFixed(1) : 'N',\n          },\n        });\n\n        marker.addListener('click', () => setPlaceId(id));\n\n        accumulator[id] = marker;\n\n        return accumulator;\n      },\n      {}\n    );\n\n    window.markers = markers;\n  }, [map, places]);\n\n  const filteredPlaces = React.useMemo(\n    () => getSortedPlaces(getFilteredPlaces(places, query, minRating, maxRating)),\n    [places, query, minRating, maxRating]\n  );\n\n  const addNewRestaurant = data => {\n    window.places[data.id] = data;\n\n    setPlaces(state => ({ ...state, [data.id]: window.places[data.id] }));\n    setShowAddRestaurant(false);\n  };\n\n  const addNewReview = (data, place) => {\n    const reviews = [data, ...place.reviews];\n    const rating = place.rating\n      ? // Incremental Average:\n        // Formula: ( ( ( Total Count - 1 ) * Previous Rating (AVG) ) + New Rating) / Total Count\n        (place.ratings * place.rating + data.rating) / (place.ratings + 1)\n      : data.rating;\n    const ratings = place.ratings + 1;\n\n    window.places[place.id] = {\n      ...place,\n      rating,\n      ratings,\n      reviews,\n    };\n    window.markers[place.id].setLabel(rating.toString());\n\n    setPlaces(state => ({ ...state, [place.id]: window.places[place.id] }));\n    setShowAddReview(false);\n  };\n\n  const handleKeyboardNavigationPlaces = React.useCallback(e => {\n    e.preventDefault();\n\n    const next = e.target.nextSibling;\n    const previous = e.target.previousSibling;\n\n    switch (e.key) {\n      case 'ArrowUp':\n      case 'ArrowLeft':\n        if (previous) {\n          previous.focus();\n        }\n        break;\n      case 'ArrowDown':\n      case 'ArrowRight':\n        if (next) {\n          next.focus();\n        }\n        break;\n      default:\n        break;\n    }\n  }, []);\n\n  return (\n    <div className=\"absolute inset-0\">\n      <div className=\"flex relative w-full h-full overflow-hidden\">\n        <div className=\"flex-initial relative w-full max-w-xl h-full shadow-xl z-50\">\n          <div className=\"flex flex-col w-full h-full\">\n            <header className=\"flex-none\">\n              <nav className=\"flex py-4 border-b\">\n                <div className=\"w-full px-6\">\n                  <form>\n                    <div className=\"flex items-center h-12 shadow-md rounded\">\n                      <label className=\"w-full\" htmlFor=\"query\">\n                        <div className=\"flex\">\n                          <div\n                            className=\"flex flex-initial w-10 h-10 items-center justify-center cursor-pointer\"\n                            role=\"button\"\n                            tabIndex=\"0\"\n                          >\n                            <Icon className=\"text-gray-900\" icon=\"search\" />\n                          </div>\n                          <input\n                            id=\"query\"\n                            className=\"flex-auto h-10 font-bold text-gray-900 placeholder-gray-600 rounded\"\n                            name=\"query\"\n                            value={query}\n                            placeholder=\"Search a Restaurant\"\n                            onChange={e => setQuery(e.target.value)}\n                          />\n                          {query.length > 0 && (\n                            <div\n                              className=\"flex flex-initial w-10 h-10 items-center justify-center cursor-pointer\"\n                              tabIndex=\"0\"\n                              role=\"button\"\n                              onKeyDown={e => {\n                                if (e.key === ' ' || e.key === 'Enter' || e.key === 'Spacebar') {\n                                  e.preventDefault();\n\n                                  setQuery('');\n                                }\n                              }}\n                              onClick={() => setQuery('')}\n                            >\n                              <Icon className=\"text-gray-900\" icon=\"times\" />\n                            </div>\n                          )}\n                        </div>\n                      </label>\n                    </div>\n                    <div className=\"flex mt-3\">\n                      <div className=\"flex-1\">\n                        <select\n                          className=\"w-full h-12 px-4 font-bold text-gray-900 bg-gray-200 shadow-inner appearance-none rounded\"\n                          value={minRating}\n                          onChange={e => setMinRating(+e.target.value)}\n                        >\n                          <option key=\"min-rating-option-0\" value=\"0\">\n                            New\n                          </option>\n                          {range(1, 5).map(option => (\n                            <option key={`min-rating-option-${option}`} value={option}>\n                              {option} (Star{option > 1 ? 's' : ''})\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                      <div className=\"flex items-center justify-center w-12\">\n                        <span className=\"font-bold\"></span>\n                      </div>\n                      <div className=\"flex-1\">\n                        <select\n                          className=\"w-full h-12 px-4 font-bold text-gray-900 bg-gray-200 shadow-inner appearance-none rounded\"\n                          value={maxRating}\n                          onChange={e => setMaxRating(+e.target.value)}\n                        >\n                          {range(minRating + 1, 6).map(option => (\n                            <option key={`max-rating-option-${option}`} value={option}>\n                              {option} (Star{option > 1 ? 's' : ''})\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </nav>\n            </header>\n            <div className=\"flex-1 relative max-h-full\">\n              <div className=\"absolute inset-0\">\n                <div className=\"relative w-full h-full max-h-full overflow-x-hidden overflow-y-scroll\">\n                  <main\n                    className=\"p-6\"\n                    onKeyDown={e => {\n                      e.persist();\n\n                      handleKeyboardNavigationPlaces(e);\n                    }}\n                  >\n                    {filteredPlaces.length > 0 ? (\n                      <>\n                        {filteredPlaces.map(restaurant => (\n                          <Place\n                            key={restaurant.id}\n                            id={restaurant.id}\n                            name={restaurant.name}\n                            cover={restaurant.cover}\n                            types={restaurant.types}\n                            rating={restaurant.rating}\n                            ratings={restaurant.ratings}\n                            handleClick={e => {\n                              e.preventDefault();\n\n                              setPlaceId(restaurant.id);\n                            }}\n                          />\n                        ))}\n                      </>\n                    ) : (\n                      <>\n                        <div className=\"flex items-center justify-center mb-6\">\n                          <Icon className=\"text-purple-400\" icon=\"sad-tear\" size=\"5x\" />\n                        </div>\n                        <div className=\"text-2xl font-bold text-gray-900 text-center\">\n                          No Results!\n                        </div>\n                        <div className=\"text-gray-700 text-center\">\n                          Sorry there are no results for this search. Please try again.\n                        </div>\n                      </>\n                    )}\n                  </main>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {showPlaceDetails && (\n          <Query query={getPlaceDetailsQuery}>\n            {({ loading, error, data, refetch }) => (\n              <>\n                {loading ? (\n                  <div className=\"absolute left-xl w-full max-w-lg h-screen bg-white z-10\">\n                    <Scrollable key={placeId}>\n                      <PlaceDetailsPlaceholder />\n                    </Scrollable>\n                  </div>\n                ) : (\n                  <>\n                    {error.length > 0 ? null : (\n                      <>\n                        <div\n                          role=\"dialog\"\n                          tabIndex=\"0\"\n                          className=\"absolute left-xl w-full max-w-lg h-screen bg-white z-10\"\n                        >\n                          <Scrollable key={placeId}>\n                            <PlaceDetails\n                              place={data}\n                              handleDissmis={e => {\n                                e.preventDefault();\n\n                                setPlaceId(null);\n                              }}\n                              handleClickAddReview={() => setShowAddReview(true)}\n                            />\n                          </Scrollable>\n                        </div>\n\n                        {showAddReview && (\n                          <div className=\"absolute left-xl w-full max-w-lg h-screen z-20\">\n                            <div className=\"absolute inset-0 bg-black opacity-50 -z-1\" />\n\n                            <div className=\"p-6\">\n                              <AddReviewForm\n                                handleSubmit={(e, review) => {\n                                  e.preventDefault();\n\n                                  addNewReview(review, data);\n                                  refetch();\n                                }}\n                                handleCancel={() => setShowAddReview(false)}\n                              />\n                            </div>\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </>\n                )}\n              </>\n            )}\n          </Query>\n        )}\n\n        {showAddRestaurant && (\n          <div className=\"absolute left-xl w-full max-w-lg h-screen z-20\">\n            <div className=\"absolute inset-0 bg-black opacity-50 -z-1\" />\n            <div className=\"p-6\">\n              <AddRestaurantForm\n                handleSubmit={(e, restaurant) => {\n                  e.preventDefault();\n\n                  addNewRestaurant(restaurant);\n                }}\n                handleCancel={() => setShowAddRestaurant(false)}\n                location={locationClicked}\n              />\n            </div>\n          </div>\n        )}\n\n        <div className=\"flex-auto relative\">\n          <div ref={mapRef} className=\"absolute inset-0\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport './styles.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nlibrary.add(fas);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}